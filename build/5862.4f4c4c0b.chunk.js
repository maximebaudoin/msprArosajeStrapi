"use strict";(self.webpackChunkmspr_arosaje_strapi=self.webpackChunkmspr_arosaje_strapi||[]).push([[5862],{27887:(W,T,n)=>{n.d(T,{r:()=>L});var d=n(53547),m=n(41580),O=n(45697),M=n.n(O),R=n(99168);function S(h,A,g){if(!h||!A)return{display:"none"};const{x:b,y:k}=g;return{transform:`translate(${b}px, ${k}px)`}}function L({renderItem:h}){const{itemType:A,isDragging:g,item:b,initialOffset:k,currentOffset:x,mouseOffset:_}=(0,R.useDragLayer)(C=>({item:C.getItem(),itemType:C.getItemType(),initialOffset:C.getInitialSourceClientOffset(),currentOffset:C.getSourceClientOffset(),isDragging:C.isDragging(),mouseOffset:C.getClientOffset()}));return g?d.createElement(m.x,{height:"100%",left:0,position:"fixed",pointerEvents:"none",top:0,zIndex:100,width:"100%"},d.createElement(m.x,{style:S(k,x,_)},h({type:A,item:b}))):null}L.propTypes={renderItem:M().func.isRequired}},99781:(W,T,n)=>{var d=n(53547);const m=(0,d.createContext)();var O=null},75642:(W,T,n)=>{n.d(T,{PL:()=>R,Y9:()=>S.Y,zE:()=>oe,Ky:()=>ue,fi:()=>B,zH:()=>D,r5:()=>c});var d=n(53547),m=n(86706),O=n(21323);const R=()=>{const s=(0,m.v9)(O.Z),e=(0,d.useCallback)(t=>s?.components?.[t]??{},[s]);return{...s,getComponentLayout:e}};var S=n(15699),L=n(42609),h=n(52861),A=n(84668),g=n(18172);const b={error:null,isLoading:!0,layout:{},layouts:{}},x=(s,e)=>(0,g.ZP)(s,t=>{switch(e.type){case"GET_DATA":{t.isLoading=!0,t.error=null,t.layout={};break}case"GET_DATA_SUCCEEDED":{const a=e.data.contentType.uid;t.layout=e.data,t.layouts[a]=e.data,t.isLoading=!1;break}case"GET_DATA_ERROR":{t.isLoading=!1,t.error=e.error;break}case"SET_LAYOUT_FROM_STATE":{t.error=null,t.layout=s.layouts[e.uid];break}case"UPDATE_LAYOUT":{const a=s.layout;t.layout={...a,contentType:{uid:a.contentType.uid,...e.newLayout.contentType}},t.layouts[a.contentType.uid]={...a,contentType:{uid:a.contentType.uid,...e.newLayout.contentType}};break}default:return t}});var _=n(50361),C=n.n(_),j=n(27361),F=n.n(j),H=n(36968),U=n.n(H),re=n(13920);const V=(s,e)=>e.find(t=>t.uid===s),J=(s,e)=>{const t=z(s,e),a=I(t.contentType,e),u=q(t.contentType,t.components);return U()(t,["contentType","layouts","edit"],a),U()(t,["contentType","layouts","list"],u),Object.keys(t.components).forEach(i=>{const y=I(t.components[i],e);U()(t,["components",i,"layouts","edit"],y)}),t},z=(s,e)=>{const t=(0,re.w8)(C()(s),e,"contentType"),{components:a,contentType:u}=t,i=y=>Object.keys(y.metadatas).reduce((E,v)=>{const P=F()(y,["attributes",v],{});let N=y.metadatas[v];if(P.type==="relation"){const fe=V(P.targetModel,e),K=N.edit.mainField,Q={name:K,schema:F()(fe,["attributes",K])};N={list:{...N.list,mainField:Q},edit:{...N.edit,mainField:Q}}}return E[v]=N,E},{});return U()(t,["contentType","metadatas"],i(u)),Object.keys(a).forEach(y=>{const E=a[y],v=i(E);U()(t,["components",y,"metadatas"],v)}),t},I=(s,e)=>s.layouts.edit.reduce((t,a)=>{const u=a.map(i=>{const y=F()(s,["attributes",i.name],{}),E={...i,fieldSchema:y,metadatas:F()(s,["metadatas",i.name,"edit"],{})};if(y.type==="relation"){const P=V(y.targetModel,e).pluginOptions||{};U()(E,"targetModelPluginOptions",P),U()(E,"queryInfos",{shouldDisplayRelationLink:G(s,i.name,e)})}return E});return t.push(u),t},[]),q=(s,e)=>s.layouts.list.reduce((a,u)=>{const i=F()(s,["attributes",u],{}),y=F()(s,["metadatas",u,"list"],{}),E=i.type;if(E==="relation")return a.push({key:`__${u}_key__`,name:u,fieldSchema:i,metadatas:y}),a;if(E==="component"){const v=e[i.component],P=v.settings.mainField,N=v.attributes[P];return a.push({key:`__${u}_key__`,name:u,fieldSchema:i,metadatas:{...y,mainField:{...N,name:P}}}),a}return a.push({key:`__${u}_key__`,name:u,fieldSchema:i,metadatas:y}),a},[]),G=(s,e,t)=>{const a=F()(s,["attributes",e,"targetModel"],"");return w(t).includes(a)},w=s=>s.filter(e=>e.isDisplayed).map(({uid:e})=>e),Z=J,oe=s=>{const[{error:e,isLoading:t,layout:a,layouts:u},i]=(0,d.useReducer)(x,b),y=(0,d.useMemo)(A.Vo,[]),{schemas:E}=(0,m.v9)(K=>y(K),m.wU),v=(0,d.useRef)(!0),{get:P}=(0,L.useFetchClient)(),N=(0,d.useCallback)(async(K,Q)=>{if(u[K]){i({type:"SET_LAYOUT_FROM_STATE",uid:K});return}i({type:"GET_DATA"});try{const{data:{data:se}}=await P(`/content-manager/content-types/${K}/configuration`,{cancelToken:Q.token});i({type:"GET_DATA_SUCCEEDED",data:Z(se,E)})}catch(se){if(h.default.isCancel(se))return;v.current&&console.error(se),v.current&&i({type:"GET_DATA_ERROR",error:se})}},[u,E,P]);(0,d.useEffect)(()=>()=>{v.current=!1},[]),(0,d.useEffect)(()=>{const Q=h.default.CancelToken.source();return N(s,Q),()=>{Q.cancel("Operation canceled by the user.")}},[s,N]);const fe=(0,d.useCallback)(K=>{i({type:"UPDATE_LAYOUT",newLayout:Z(K,E)})},[E]);return{error:e,isLoading:t,layout:a,updateLayout:fe}},ie=s=>s["content-manager_app"].collectionTypeLinks;var ae=n(13218),ye=n.n(ae),Y=n(80129);const p=(s,e)=>Object.keys(s).reduce((t,a)=>{const u=s[a],i=F()(e,[a],u);return ye()(u)?{...t,[a]:p(u,i)}:(t[a]=i,t)},{}),le=(s,e,t)=>{const a=s.find(({to:N})=>N.includes(e));if(!a)return"/";const{to:u,search:i}=a,y=(0,Y.parse)(i),E=(0,Y.parse)(t.substring(1)),v=p(y,E);return`${u}?${(0,Y.stringify)(v,{encode:!1})}`},ue=s=>{const[{rawQuery:e}]=(0,L.useQueryParams)(),t=(0,m.v9)(ie);return le(t,s,e)};var pe=n(40703),$=n(16550);const B=()=>{const{search:s}=(0,$.TH)(),e=s?(0,Y.parse)(s.substring(1)):{};return e.plugins?(0,Y.stringify)({plugins:e.plugins},{encode:!1}):""},D=s=>{const e=(0,d.useRef)();return(0,d.useEffect)(()=>{e.current=s},[s]),e.current};var X=n(80015);const ce=(s,e,t)=>({type:X.m,permissions:s,__meta__:{plugins:e,containerName:t}}),ne=()=>({type:X.Q}),de=s=>s["content-manager_rbacManager"].permissions,me=s=>s.rbacProvider.collectionTypesRelatedPermissions,c=(s,e,t="listView")=>{const a=(0,m.v9)(me),u=(0,m.v9)(de),i=(0,m.I0)(),y=a[e];return(0,d.useEffect)(()=>y?(i(ce(y,s?s.plugins:null,t)),()=>{i(ne())}):()=>{},[y,i,s,t]),u};var l=n(99781);const o=()=>useContext(WysiwygContext),f=null},15699:(W,T,n)=>{n.d(T,{Y:()=>R});var d=n(53547),m=n(99168),O=n.n(m),M=n(40703);const R=(S,{type:L="STRAPI_DND",index:h,item:A={},onStart:g,onEnd:b,onGrabItem:k,onDropItem:x,onCancel:_,onMoveItem:C,dropSensitivity:j="regular"})=>{const F=(0,d.useRef)(null),[{handlerId:H},U]=(0,m.useDrop)({accept:L,collect(I){return{handlerId:I.getHandlerId()}},hover(I,q){if(!F.current)return;const G=I.index,w=h;if(G!==w){if(j==="regular"){const Z=F.current.getBoundingClientRect(),ee=(Z.bottom-Z.top)/2,te=q.getClientOffset().y-Z.top;if(G<w&&te<ee||G>w&&te>ee)return}C(w,G),I.index=w}}}),[{isDragging:re},V,J]=(0,m.useDrag)({type:L,item(){g&&g();const{width:I}=F.current?.getBoundingClientRect()??{};return{index:h,width:I,...A}},end(){b&&b()},canDrag:S,isDragging:A.id?I=>A.id===I.getItem().id:void 0,collect:I=>({isDragging:I.isDragging()})}),z=(0,M.A)(S,h,{onGrabItem:k,onDropItem:x,onCancel:_,onMoveItem:C});return[{handlerId:H,isDragging:re,handleKeyDown:z},F,U,V,J]}},40703:(W,T,n)=>{n.d(T,{A:()=>m});var d=n(53547);const m=(O,M,{onCancel:R,onDropItem:S,onGrabItem:L,onMoveItem:h})=>{const[A,g]=(0,d.useState)(!1),b=C=>{A&&(C==="UP"?h(M-1,M):C==="DOWN"&&h(M+1,M))},k=()=>{A?(S&&S(M),g(!1)):(L&&L(M),g(!0))},x=()=>{A&&(g(!1),R&&R(M))};return C=>{if(O&&!(C.key==="Tab"&&!A))switch(C.preventDefault(),C.key){case" ":case"Enter":k();break;case"Escape":x();break;case"ArrowDown":case"ArrowRight":b("DOWN");break;case"ArrowUp":case"ArrowLeft":b("UP");break;default:}}}},84668:(W,T,n)=>{n.d(T,{Jg:()=>h,KQ:()=>S,Vo:()=>L,Yg:()=>O});var d=n(20573),m=n(14506);const O=()=>g=>g["content-manager_app"]||m.E,M=()=>createSelector(O(),g=>g),R=()=>createSelector(O(),g=>g.models),S=()=>(0,d.P1)(O(),g=>({collectionTypeLinks:g.collectionTypeLinks,singleTypeLinks:g.singleTypeLinks})),L=()=>(0,d.P1)(O(),({components:g,models:b})=>({schemas:[...g,...b]})),h=(0,d.P1)(O(),g=>g.fieldSizes);var A=null},21323:(W,T,n)=>{n.d(T,{Z:()=>m});const m=O=>O["content-manager_editViewLayoutManager"].currentLayout},56723:(W,T,n)=>{n.d(T,{Z:()=>d});const d={COMPONENT:"component",EDIT_FIELD:"editField",FIELD:"field",DYNAMIC_ZONE:"dynamicZone",RELATION:"relation"}},69881:(W,T,n)=>{n.d(T,{Z:()=>m});const m=O=>`content-manager.${O}`},13920:(W,T,n)=>{n.d(T,{_Q:()=>te.Z,W3:()=>M,ko:()=>h,FE:()=>g,Di:()=>_,Ex:()=>me,du:()=>H,TA:()=>V,Ts:()=>q,Uo:()=>w,IF:()=>ee,OB:()=>oe.Z,w8:()=>Y,kc:()=>le});var d=n(50361),m=n.n(d);const M=(r,c,l)=>{if(Array.isArray(r)&&c>=0&&l>=0&&c<=r.length-1&&l<=r.length-1){const o=m()(r),f=o.splice(c,1);return o.splice(l,0,f[0]),o}return r};var R=n(7334),S=n.n(R);const h=r=>{const c=r.type;return c==="relation"?!S()(r.relationType).includes("morph"):!["json","dynamiczone","richtext","password"].includes(c)&&!!c},A=(r,c)=>{typeof r=="function"?r(c):r!=null&&(r.current=c)},g=(...r)=>c=>r.forEach(l=>A(l,c));var b=n(27361),k=n.n(b);const x=(r,c)=>Object.keys(r).reduce((l,o)=>{const f=k()(r,[o],{}),{default:s,component:e,type:t,required:a,min:u,repeatable:i}=f;if(s!==void 0&&(l[o]=s),t==="component"){const y=c?.[e]?.attributes??{},E=x(y,c);if(a===!0&&(l[o]=i===!0?[]:E),u&&i===!0&&a){l[o]=[];for(let v=0;v<u;v+=1)l[o].push(E)}}return t==="dynamiczone"&&a===!0&&(l[o]=[]),l},{}),_=x;var C=n(57557),j=n.n(C);const H=({layouts:r,metadatas:c,...l})=>{const o=r.list.map(e=>e.name?e.name:e),f=Object.keys(c).reduce((e,t)=>{const a=k()(c,[t],{});let u=a.edit;return u.mainField&&(u={...u,mainField:a.edit.mainField.name}),{...e,[t]:{edit:u,list:j()(a.list,["mainField"])}}},{}),s=r.edit.map(e=>e.map(({name:t,size:a})=>({name:t,size:a})));return{...l,layouts:{edit:s,list:o},metadatas:f}},U=(r,c)=>r.map(l=>({...l,subject:c})),V=r=>{const c={create:[{action:"plugin::content-manager.explorer.create",subject:null}],delete:[{action:"plugin::content-manager.explorer.delete",subject:null}],publish:[{action:"plugin::content-manager.explorer.publish",subject:null}],read:[{action:"plugin::content-manager.explorer.read",subject:null}],update:[{action:"plugin::content-manager.explorer.update",subject:null}]};return Object.keys(c).reduce((l,o)=>(l[o]=U(c[o],r),l),{})};var J=n(7654),z=n.n(J);const q=r=>r.split(".").filter(c=>z()(parseInt(c,10))),w=r=>{if(r.length===0)return-1;const c=Math.max.apply(Math,r.map(l=>l.__temp_key__??0));return Number.isNaN(c)?-1:c},ee=r=>`/content-manager/${r}`;var oe=n(69881),te=n(56723),ie=n(36968),ae=n.n(ie);const Y=(r,c,l)=>{const o=t=>c.find(a=>a.uid===t),f=Object.assign({},r),s=r[l].uid,e=o(s);return ae()(f,[l],{...r[l],...e}),Object.keys(r.components).forEach(t=>{const a=o(t);ae()(f,["components",t],{...r.components[t],...a})}),f};var p=n(42609);const le=(r,c,l)=>{const o=(f,s)=>Object.keys(f).reduce((e,t)=>{const a=(0,p.getType)(s,t),u=k()(f,t),i=(0,p.getOtherInfos)(s,[t,"component"]),y=(0,p.getOtherInfos)(s,[t,"repeatable"]);return a==="dynamiczone"?(e[t]=u.map(E=>o(E,l[E.__component])),e):a==="component"?(y?e[t]=u&&u.map(E=>o(E,l[i])):e[t]=u&&o(u,l[i]),e):(a!=="password"&&(e[t]=u),e)},{});return o(r,c)};var ge=n(51584),ue=n.n(ge),pe=n(41609),$=n.n(pe),Ee=n(14841),B=n.n(Ee),D=n(87561),X=n(24056);D.kM(D.nK,"defined",function(){return this.test("defined",p.translatedErrors.required,r=>r!==void 0)}),D.kM(D.IX,"notEmptyMin",function(r){return this.test("notEmptyMin",p.translatedErrors.min,c=>$()(c)?!0:c.length>=r)}),D.kM(D.Z_,"isInferior",function(r,c){return this.test("isInferior",r,function(l){return!l||Number.isNaN(B()(l))?!0:B()(c)>=B()(l)})}),D.kM(D.Z_,"isSuperior",function(r,c){return this.test("isSuperior",r,function(l){return!l||Number.isNaN(B()(l))?!0:B()(l)>=B()(c)})});const ce=r=>k()(r,["attributes"],{}),ne=(r,{components:c},l={isCreatingEntry:!0,isDraft:!0,isFromComponent:!1})=>{const o=ce(r);return D.Ry().shape(Object.keys(o).reduce((f,s)=>{const e=o[s];if(e.type!=="relation"&&e.type!=="component"&&e.type!=="dynamiczone"){const t=de(e.type,e,l);f[s]=t}if(e.type==="relation"&&(f[s]=["oneWay","oneToOne","manyToOne","oneToManyMorph","oneToOneMorph"].includes(e.relationType)?D.Ry().nullable():D.IX().nullable()),e.type==="component"){const t=ne(c[e.component],{components:c},{...l,isFromComponent:!0});if(e.repeatable===!0){const{min:u,max:i,required:y}=e;let E=D.Vo(v=>{let P=D.IX().of(t);return u?y?P=P.min(u,p.translatedErrors.min):y!==!0&&$()(v)?P=P.nullable():P=P.min(u,p.translatedErrors.min):y&&!l.isDraft&&(P=P.min(1,p.translatedErrors.required)),i&&(P=P.max(i,p.translatedErrors.max)),P});return f[s]=E,f}const a=D.Vo(u=>u!==void 0?e.required===!0&&!l.isDraft?t.defined():t.nullable():e.required===!0?D.Ry().defined():D.Ry().nullable());return f[s]=a,f}if(e.type==="dynamiczone"){let t=D.IX().of(D.Vo(({__component:i})=>ne(c[i],{components:c},{...l,isFromComponent:!0})));const{max:a,min:u}=e;u?e.required?t=t.test("min",p.translatedErrors.min,i=>l.isCreatingEntry?i&&i.length>=u:i===void 0?!0:i!==null&&i.length>=u).test("required",p.translatedErrors.required,i=>l.isCreatingEntry?i!==null||i!==void 0:i===void 0?!0:i!==null):t=t.notEmptyMin(u):e.required&&!l.isDraft&&(t=t.test("required",p.translatedErrors.required,i=>l.isCreatingEntry?i!==null||i!==void 0:i===void 0?!0:i!==null)),a&&(t=t.max(a,p.translatedErrors.max)),f[s]=t}return f},{}))},de=(r,c,l)=>{let o=D.nK();return["string","uid","text","richtext","email","password","enumeration"].includes(r)&&(o=D.Z_()),r==="json"&&(o=D.nK(p.translatedErrors.json).test("isJSON",p.translatedErrors.json,f=>{if(!f||!f.length)return!0;try{return JSON.parse(f),!0}catch{return!1}}).nullable().test("required",p.translatedErrors.required,f=>!(c.required&&(!f||!f.length)))),r==="email"&&(o=o.email(p.translatedErrors.email)),["number","integer","float","decimal"].includes(r)&&(o=D.Rx().transform(f=>z()(f)?void 0:f).typeError()),r==="biginteger"&&(o=D.Z_().matches(/^-?\d*$/)),["date","datetime"].includes(r)&&(o=D.hT()),Object.keys(c).forEach(f=>{const s=c[f];if(s||!ue()(s)&&Number.isInteger(Math.floor(s))||s===0)switch(f){case"required":{l.isDraft||(r==="password"&&l.isCreatingEntry&&(o=o.required(p.translatedErrors.required)),r!=="password"&&(l.isCreatingEntry?o=o.required(p.translatedErrors.required):o=o.test("required",p.translatedErrors.required,e=>e===void 0&&!l.isFromComponent?!0:(0,X.Z)(r)?e===0?!0:!!e:r==="boolean"?e!=null:r==="date"||r==="datetime"?typeof e=="string"?!$()(e):!$()(e?.toString()):!$()(e))));break}case"max":{r==="biginteger"?o=o.isInferior(p.translatedErrors.max,s):o=o.max(s,p.translatedErrors.max);break}case"maxLength":o=o.max(s,p.translatedErrors.maxLength);break;case"min":{r==="biginteger"?o=o.isSuperior(p.translatedErrors.min,s):o=o.min(s,p.translatedErrors.min);break}case"minLength":{l.isDraft||(o=o.min(s,p.translatedErrors.minLength));break}case"regex":o=o.matches(new RegExp(s),{message:p.translatedErrors.regex,excludeEmptyString:!c.required});break;case"lowercase":["text","textarea","email","string"].includes(r)&&(o=o.strict().lowercase());break;case"uppercase":["text","textarea","email","string"].includes(r)&&(o=o.strict().uppercase());break;case"positive":(0,X.Z)(r)&&(o=o.positive());break;case"negative":(0,X.Z)(r)&&(o=o.negative());break;default:o=o.nullable()}}),o},me=ne},24056:(W,T,n)=>{n.d(T,{Z:()=>d});function d(m){return["integer","biginteger","decimal","float","number"].includes(m)}},53616:(W,T,n)=>{n.d(T,{$k:()=>L,FT:()=>A,Nj:()=>S,Ot:()=>R,QM:()=>O,lv:()=>h,sN:()=>m,uL:()=>g,x4:()=>M});var d=n(42675);const m="settings_review-workflows",O="Settings/Review_Workflows/SET_WORKFLOWS",M="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",R="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",S="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",L="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",h={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},A=d.W.colors.primary600,g={STAGE:"stage"}},53752:(W,T,n)=>{n.d(T,{n:()=>R});var d=n(42609),m=n(80129),O=n.n(m),M=n(88767);function R(S={}){const{id:L="",...h}=S,A={populate:"stages"},{get:g}=(0,d.useFetchClient)(),b=(0,m.stringify)({...A,...h},{encode:!1}),{data:k,isLoading:x,status:_,refetch:C}=(0,M.useQuery)(["review-workflows","workflows",L],async()=>{try{const{data:{data:F}}=await g(`/admin/review-workflows/workflows/${L}${b?`?${b}`:""}`);return F}catch{return null}});let j=[];return L&&k?j=[k]:Array.isArray(k)&&(j=k),{workflows:j,isLoading:x,status:_,refetch:C}}},75156:(W,T,n)=>{n.d(T,{k:()=>O,s:()=>M});var d=n(42675),m=n(53616);function O(R){if(!R)return null;const L=Object.entries(d.W.colors).filter(([,h])=>h.toUpperCase()===R.toUpperCase()).reduce((h,[A])=>(m.lv?.[A]&&(h=A),h),null);return L?{themeColorName:L,name:m.lv[L]}:null}function M(){return Object.entries(m.lv).map(([R,S])=>({hex:d.W.colors[R].toUpperCase(),name:S}))}}}]);
