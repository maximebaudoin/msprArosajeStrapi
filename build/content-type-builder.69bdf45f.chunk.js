(self.webpackChunkmspr_arosaje_strapi=self.webpackChunkmspr_arosaje_strapi||[]).push([[8880],{68314:(G,H,t)=>{"use strict";t.d(H,{Z:()=>je});var n=t(53547),N=t(41580),g=t(42609),U=t(31666),b=t(14484),B=t(69102),C=t(85038),k=t(34668),J=t(65531),le=t(73145),ie=t(82574),Q=t(74525),Fe=t(60133),q=t(16247),fe=t(48394),z=t(10507),de=t(85047),I=t(21210),j=t(55884),Pe=t(45697),ue=t.n(Pe),ye=t(88972);const We={biginteger:U.Z,boolean:b.Z,collectionType:B.Z,component:C.Z,contentType:B.Z,date:k.Z,datetime:k.Z,decimal:U.Z,dynamiczone:J.Z,email:le.Z,enum:ie.Z,enumeration:ie.Z,file:Q.Z,files:Q.Z,float:U.Z,integer:U.Z,json:Fe.Z,JSON:Fe.Z,media:Q.Z,number:U.Z,password:q.Z,relation:fe.Z,richtext:z.Z,singleType:de.Z,string:I.Z,text:I.Z,time:k.Z,timestamp:k.Z,uid:j.Z},$e=(0,ye.ZP)(N.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,me=({type:Te,customField:Xe,...c})=>{const it=(0,g.useCustomFields)();let ze=We[Te];if(Xe){const{icon:Ce}=it.get(Xe);Ce&&(ze=Ce)}return We[Te]?n.createElement($e,{height:(0,g.pxToRem)(24),width:(0,g.pxToRem)(32),shrink:0,...c,"aria-hidden":!0},n.createElement(N.x,{as:ze})):null};me.defaultProps={customField:null},me.propTypes={type:ue().string.isRequired,customField:ue().string};const je=me},44915:(G,H,t)=>{"use strict";t.d(H,{c:()=>In});var n=t(45291),N=t(8289),g=t(71625),U=t(9022),b=t(67109),B=t(37323),C=t(83478),k=t(89072),J=t(97490),le=t(67628),ie=t(78976),Q=t(16912),Fe=t(9705),q=t(66567),fe=t(84019),z=t(90323),de=t(66745),I=t(15004),j=t(69721),Pe=t(56427),ue=t(85018),ye=t(84517),We=t(45491),$e=t(82752),me=t(78114),je=t(5240),Te=t(21667),Xe=t(86798),c=t(32706),it=t(30783),ze=t(7207),Ce=t(77339),Ye=t(67939),te=t(19552),ga=t(96295),zt=t(81753),fa=t(70763),Vt=t(29021),Gt=t(63252),Z=t(15662),kt=t(23293),Ht=t(90690),qt=t(19954),Ot=t(8934),Xt=t(13320),Yt=t(39810),Qt=t(26086),a=t(87955),Ne=t(89597),Jt=t(32605),wt=t(31956),Ve=t(28985),en=t(18773),Pt=t(29729),At=t(69714),Ge=t(75711),lt=t(34807),ke=t(81426),tn=t(56157),ne=t(76853),nn=t(54244),an=t(69427),sn=t(56821),Dt=t(98432),ya=t(33911),xt=t(33632),Ea=t(63851),dt=t(49358),Lt=t(78009),on=t(8204),ct=t(70412),rn=t(56858),ut=t(25870),mt=t(90296),Qe=t(5914),Je=t(9438),ha=t(73962),It=t(44157),pt=t(132),ln=t(1182),Ma=t(31795),Ft=t(94726),Ut=t(36347),dn=t(9474),cn=t(4585),St=t(20711),un=t(36606),mn=t(1781),pn=t(33417),gn=t(67504),fn=t(90321),yn=t(96315),En=t(64529),va=t(41916),hn=t(87801),Ta=t(95629),Mn=t(43498),Bt=t(82497),vn=t(78100),we=t(77373),et=t(7270),gt=t(97184),Tn=t(49986),Wt=t(96585),bn=t(18319),ft=t(45461),yt=t(48077),Nt=t(23833),Cn=t(71157),Et=t(69353),ht=t(82119),Rn=t(42164),Mt=t(78596),Zn=t(55680),Kt=t(11008),On=t(28665),vt=t(941),Pn=t(11462),Tt=t(57785),An=t(71414),_t=t(6702),Dn=t(72106),xn=t(61017),bt=t(82101),Ln=t(65908),ba=t(42384);const In={alien:n.Z,apps:N.Z,archive:g.Z,arrowDown:U.Z,arrowLeft:b.Z,arrowRight:B.Z,arrowUp:C.Z,attachment:k.Z,bell:J.Z,bold:le.Z,book:ie.Z,briefcase:Q.Z,brush:Fe.Z,bulletList:q.Z,calendar:fe.Z,car:z.Z,cast:de.Z,chartBubble:I.Z,chartCircle:j.Z,chartPie:Pe.Z,check:ue.Z,clock:ye.Z,cloud:We.Z,code:$e.Z,cog:me.Z,collapse:je.Z,command:Te.Z,connector:Xe.Z,crop:c.Z,crown:it.Z,cube:ze.Z,cup:Ce.Z,cursor:Ye.Z,dashboard:te.Z,database:ga.Z,discuss:zt.Z,doctor:fa.Z,earth:Vt.Z,emotionHappy:Gt.Z,emotionUnhappy:Z.Z,envelop:kt.Z,exit:Ht.Z,expand:qt.Z,eye:Ot.Z,feather:Xt.Z,file:Yt.Z,fileError:Qt.Z,filePdf:a.Z,filter:Ne.Z,folder:Jt.Z,gate:wt.Z,gift:Ve.Z,globe:en.Z,grid:Pt.Z,handHeart:At.Z,hashtag:Ge.Z,headphone:lt.Z,heart:ke.Z,house:tn.Z,information:ne.Z,italic:nn.Z,key:an.Z,landscape:sn.Z,layer:Dt.Z,layout:ya.Z,lightbulb:xt.Z,link:Ea.Z,lock:dt.Z,magic:Lt.Z,manyToMany:on.Z,manyToOne:ct.Z,manyWays:rn.Z,medium:ut.Z,message:mt.Z,microphone:Qe.Z,monitor:Je.Z,moon:ha.Z,music:It.Z,oneToMany:pt.Z,oneToOne:ln.Z,oneWay:Ma.Z,paint:Ft.Z,paintBrush:Ut.Z,paperPlane:dn.Z,pencil:cn.Z,phone:St.Z,picture:un.Z,pin:mn.Z,pinMap:pn.Z,plane:gn.Z,play:fn.Z,plus:yn.Z,priceTag:En.Z,puzzle:va.Z,question:hn.Z,quote:Ta.Z,repeat:Mn.Z,restaurant:Bt.Z,rocket:vn.Z,rotate:we.Z,scissors:et.Z,search:gt.Z,seed:Tn.Z,server:Wt.Z,shield:bn.Z,shirt:ft.Z,shoppingCart:yt.Z,slideshow:Nt.Z,stack:Cn.Z,star:Et.Z,store:ht.Z,strikeThrough:Rn.Z,sun:Mt.Z,television:Zn.Z,thumbDown:Kt.Z,thumbUp:On.Z,train:vt.Z,twitter:Pn.Z,typhoon:Tt.Z,underline:An.Z,user:_t.Z,volumeMute:Dn.Z,volumeUp:xn.Z,walk:bt.Z,wheelchair:Ln.Z,write:ba.Z}},7955:(G,H,t)=>{"use strict";t.d(H,{Z:()=>g});var n=t(53547);const g=(0,n.createContext)()},98422:(G,H,t)=>{"use strict";t.d(H,{Z:()=>g});var n=t(53547);const g=(0,n.createContext)()},13588:(G,H,t)=>{"use strict";t.d(H,{Z:()=>U});var n=t(53547),N=t(7955);const U=()=>(0,n.useContext)(N.Z)},26478:(G,H,t)=>{"use strict";t.d(H,{Z:()=>U});var n=t(53547),N=t(98422);const U=()=>(0,n.useContext)(N.Z)},31524:(G,H,t)=>{"use strict";t.r(H),t.d(H,{default:()=>_o});var n=t(53547),N=t(17034),g=t(42609),U=t(64593),b=t(86896),B=t(16550),C=t(41580),k=t(39785),J=t(52624),le=t(53192),ie=t(42876),Q=t(34446),Fe=t(29489),q=t(85893),fe=t(12645),z=t(88972),de=t(2504),I=t(11047),j=t(84170);const Pe=(0,z.ZP)(C.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,ue=z.ZP.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,ye=z.ZP.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,We=({label:e,children:s,id:o})=>{const[i,r]=(0,n.useState)(!0),d=(0,de.M)(o);return(0,q.jsxs)(C.x,{children:[(0,q.jsx)(Pe,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,q.jsx)(I.k,{justifyContent:"space-between",children:(0,q.jsxs)(ue,{onClick:()=>{r(l=>!l)},"aria-expanded":i,"aria-controls":d,children:[(0,q.jsx)(ye,{rotated:i,children:(0,q.jsx)(fe.Z,{"aria-hidden":!0})}),(0,q.jsx)(C.x,{paddingLeft:2,children:(0,q.jsx)(j.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),i&&(0,q.jsx)("ul",{id:d,children:n.Children.map(s,(l,u)=>(0,q.jsx)("li",{children:l},u))})]})};var $e=t(52305),me=t(96315),je=t(11700),Te=t.n(je),Xe=t(73727),c=t(5002),it=t(18446),ze=t.n(it),Ce=t(13588),Ye=t(26478),te=t(96124);const zt=()=>{const{components:e,componentsGroupedByCategory:s,contentTypes:o,isInDevelopmentMode:i,sortedContentTypesList:r,modifiedData:d,initialData:l}=(0,Ce.Z)(),u=(0,g.useNotification)(),{trackUsage:m}=(0,g.useTracking)(),[f,y]=(0,n.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:O}=(0,Ye.Z)(),{locale:T}=(0,b.Z)(),{startsWith:M}=(0,g.useFilter)(T,{sensitivity:"base"}),R=(0,g.useCollator)(T,{sensitivity:"base"}),S=!Object.keys(o).some(K=>o[K].isTemporary===!0)&&!Object.keys(e).some(K=>e[K].isTemporary===!0)&&ze()(d,l),h=()=>{S?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):X()},P=()=>{S?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):X()},D=()=>{S?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):X()},X=()=>{u({type:"info",message:{id:(0,c.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},ae=Object.entries(s).map(([K,Ie])=>({name:K,title:K,isEditable:i,onClickEdit(se,w){se.stopPropagation(),S?O(w.name):X()},links:Ie.map(se=>({name:se.uid,to:`/plugins/${te.Z}/component-categories/${K}/${se.uid}`,title:se.schema.displayName})).sort((se,w)=>R.compare(se.title,w.title))})).sort((K,Ie)=>R.compare(K.title,Ie.title)),Ee=r.filter(K=>K.visible);return{menu:[{name:"models",title:{id:`${(0,c.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,c.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:h},links:Ee.filter(K=>K.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,c.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,c.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:P},links:Ee.filter(K=>K.kind==="singleType")},{name:"components",title:{id:`${(0,c.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,c.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:D},links:ae}].map(K=>K.links.some(se=>Array.isArray(se.links))?{...K,links:K.links.map(se=>{const w=se.links.filter(Se=>M(Se.title,f));return w.length===0?null:{...se,links:w.sort((Se,ee)=>R.compare(Se.title,ee.title))}}).filter(Boolean)}:{...K,links:K.links.filter(se=>M(se.title,f)).sort((se,w)=>R.compare(se.title,w.title))}),searchValue:f,onSearchChange:y}},Vt=()=>{const{menu:e,searchValue:s,onSearchChange:o}=zt(),{formatMessage:i}=(0,b.Z)();return n.createElement(le.m,{ariaLabel:i({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},n.createElement(ie.p,{searchable:!0,value:s,onClear:()=>o(""),onChange:r=>o(r.target.value),label:i({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),n.createElement(Q.Z,null,e.map(r=>n.createElement(n.Fragment,{key:r.name},n.createElement(Fe.D,{label:i({id:r.title.id,defaultMessage:r.title.defaultMessage}),collapsable:!0,badgeLabel:r.links.length.toString()},r.links.map(d=>d.links?n.createElement(We,{key:d.name,label:Te()(d.title)},d.links.map(l=>n.createElement($e.E,{as:Xe.NavLink,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},Te()(i({id:l.name,defaultMessage:l.title}))))):n.createElement($e.E,{as:Xe.NavLink,to:d.to,active:d.active,key:d.name},Te()(i({id:d.name,defaultMessage:d.title}))))),r.customLink&&n.createElement(C.x,{paddingLeft:7},n.createElement(k.A,{onClick:r.customLink.onClick,startIcon:n.createElement(J.J,{as:me.Z,width:(0,g.pxToRem)(8),height:(0,g.pxToRem)(8)}),marginTop:2},i({id:r.customLink.id,defaultMessage:r.customLink.defaultMessage})))))))};var Gt=t(27361),Z=t.n(Gt),kt=t(7739),Ht=t.n(kt),qt=t(36968),Ot=t.n(qt),Xt=t(84238),Yt=t.n(Xt),Qt=t(45697),a=t.n(Qt),Ne=t(86706),Jt=t(14890),wt=t(7955),Ve=t(85169),en=t(42866),Pt=t(59946),At=t(82777),Ge=t(77296),lt=t(70004),ke=t(42761),tn=t(36856),ne=t(29728),nn=t(18721),an=t.n(nn),sn=t(7334),Dt=t.n(sn);const xt=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),dt=(e,s)=>e.find(({name:o})=>o===s);var Lt=t(38953);const on=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],ct=({intlLabel:e,name:s,onChange:o,value:i})=>{const{formatMessage:r}=(0,b.Z)(),d=i===null||i.length===0?r({id:"global.none",defaultMessage:"None"}):[...i].sort().map(u=>Te()(u)).join(", "),l=e.id?r({id:e.id,defaultMessage:e.defaultMessage}):s;return n.createElement(Lt.Q,{id:"select1",label:l,customizeContent:()=>d,onChange:u=>{u.length>0?o({target:{name:s,value:u,type:"allowed-types-select"}}):o({target:{name:s,value:null,type:"allowed-types-select"}})},options:on,value:i||[]})};ct.defaultProps={value:null},ct.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().object,a().array])};const rn=ct;var ut=t(17373),mt=t(11276),Qe=t(67819),Je=t(68314);const It=(0,z.ZP)(C.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,pt=({type:e})=>{const{formatMessage:s}=(0,b.Z)(),{onClickSelectField:o}=(0,Ye.Z)(),i=()=>{o({attributeType:e,step:e==="component"?"1":null})};return n.createElement(It,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},n.createElement(I.k,null,n.createElement(Je.Z,{type:e}),n.createElement(C.x,{paddingLeft:4},n.createElement(I.k,null,n.createElement(j.Z,{fontWeight:"bold"},s({id:(0,c.Z)(`attribute.${e}`),defaultMessage:e}))),n.createElement(I.k,null,n.createElement(j.Z,{variant:"pi",textColor:"neutral600"},s({id:(0,c.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};pt.defaultProps={type:"text"},pt.propTypes={type:a().string};const ln=pt,Ft=e=>{const s=e%2===1;return{paddingLeft:s?2:0,paddingRight:s?0:2}},Ut=({attributes:e})=>n.createElement(ut.k,{tagName:"button"},n.createElement(I.k,{direction:"column",alignItems:"stretch",gap:8},e.map((s,o)=>n.createElement(mt.r,{key:o,gap:0},s.map((i,r)=>{const{paddingLeft:d,paddingRight:l}=Ft(r);return n.createElement(Qe.P,{key:i,col:6,style:{height:"100%"}},n.createElement(C.x,{paddingLeft:d,paddingRight:l,paddingBottom:1,style:{height:"100%"}},n.createElement(ln,{type:i})))})))));Ut.propTypes={attributes:a().array.isRequired};const dn=Ut;var cn=t(23620);const St=({customFieldUid:e,customField:s})=>{const{type:o,intlLabel:i,intlDescription:r}=s,{formatMessage:d}=(0,b.Z)(),{onClickSelectCustomField:l}=(0,Ye.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return n.createElement(It,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},n.createElement(I.k,null,n.createElement(Je.Z,{type:o,customField:e}),n.createElement(C.x,{paddingLeft:4},n.createElement(I.k,null,n.createElement(j.Z,{fontWeight:"bold"},d(i))),n.createElement(I.k,null,n.createElement(j.Z,{variant:"pi",textColor:"neutral600"},d(r))))))};St.propTypes={customFieldUid:a().string.isRequired,customField:a().shape({type:a().string.isRequired,icon:a().func,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,intlDescription:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired}).isRequired};const un=St;var mn=t(32064),pn=t(86031),gn=t(80129),fn=t.n(gn);const yn=(0,z.ZP)(C.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,En=()=>n.createElement(I.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,s)=>n.createElement(yn,{key:`empty-card-${s}`,height:"138px",width:"375px",hasRadius:!0}))),hn=()=>{const{formatMessage:e}=(0,b.Z)();return n.createElement(C.x,{position:"relative"},n.createElement(En,null),n.createElement(C.x,{position:"absolute",top:6,width:"100%"},n.createElement(I.k,{alignItems:"center",justifyContent:"center",direction:"column"},n.createElement(J.J,{as:pn.Z,color:"",width:"160px",height:"88px"}),n.createElement(C.x,{paddingTop:6,paddingBottom:4},n.createElement(C.x,{textAlign:"center"},n.createElement(j.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),n.createElement(C.x,{paddingTop:4},n.createElement(j.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),n.createElement(mn.Q,{to:`/marketplace?${fn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:n.createElement(me.Z,null)},e({id:(0,c.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Mn=()=>{const{formatMessage:e}=(0,b.Z)(),s=(0,g.useCustomFields)(),o=Object.entries(s.getAll());if(!o.length)return n.createElement(hn,null);const i=o.sort((r,d)=>r[1].name>d[1].name?1:-1);return n.createElement(ut.k,{tagName:"button"},n.createElement(I.k,{direction:"column",alignItems:"stretch",gap:3},n.createElement(mt.r,{gap:0},i.map(([r,d],l)=>{const{paddingLeft:u,paddingRight:m}=Ft(l);return n.createElement(Qe.P,{key:r,col:6,style:{height:"100%"}},n.createElement(C.x,{paddingLeft:u,paddingRight:m,paddingBottom:1,style:{height:"100%"}},n.createElement(un,{key:r,customFieldUid:r,customField:d})))})),n.createElement(cn.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,c.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Bt=({attributes:e,forTarget:s,kind:o})=>{const{formatMessage:i}=(0,b.Z)(),r=(0,c.Z)("modalForm.tabs.default"),d=(0,c.Z)("modalForm.tabs.custom"),l=s.includes("component")?"component":o,u=(0,c.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return n.createElement(Pt.f,{padding:6},n.createElement(At.v,{label:i({id:(0,c.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},n.createElement(I.k,{justifyContent:"space-between"},n.createElement(j.Z,{variant:"beta",as:"h2"},i({id:u,defaultMessage:"Select a field"})),n.createElement(Ge.m,null,n.createElement(Ge.O,null,i({id:r,defaultMessage:"Default"})),n.createElement(Ge.O,null,i({id:d,defaultMessage:"Custom"})))),n.createElement(C.x,{paddingBottom:6},n.createElement(lt.i,null)),n.createElement(ke.n,null,n.createElement(ke.x,null,n.createElement(dn,{attributes:e})),n.createElement(ke.x,null,n.createElement(Mn,null)))))};Bt.propTypes={attributes:a().array.isRequired,forTarget:a().string.isRequired,kind:a().string.isRequired};const vn=Bt;var we=t(40619),et=t(82562);const gt=({intlLabel:e,name:s,options:o,onChange:i,value:r})=>{const{formatMessage:d}=(0,b.Z)(),l=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):s,u=m=>{let f="";m==="true"&&(f=!0),m==="false"&&(f=!1),i({target:{name:s,value:f,type:"select-default-boolean"}})};return n.createElement(we.P,{label:l,id:s,name:s,onChange:u,value:(r===null?"":r).toString()},o.map(({metadatas:{intlLabel:m,disabled:f,hidden:y},key:p,value:O})=>n.createElement(et.W,{key:p,value:O,disabled:f,hidden:y},m.defaultMessage)))};gt.defaultProps={value:null},gt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().any};const Tn=gt;var Wt=t(15585);const bn=(0,z.ZP)(I.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Wt.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${j.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,ft=({intlLabel:e,name:s,onChange:o,radios:i,value:r})=>{const{formatMessage:d}=(0,b.Z)();return n.createElement(I.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:s,as:"label"},d(e)),n.createElement(bn,{gap:4,alignItems:"stretch"},i.map(l=>n.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},n.createElement("input",{id:l.value.toString(),name:s,className:"option-input",checked:l.value===r,value:l.value,key:l.value,onChange:o,type:"radio"}),n.createElement(C.x,{className:"option",padding:4},n.createElement(I.k,null,n.createElement(C.x,{paddingRight:4},n.createElement("span",{className:"checkmark"})),n.createElement(I.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(j.Z,{fontWeight:"bold"},d(l.title)),n.createElement(j.Z,{variant:"pi",textColor:"neutral600"},d(l.description)))))))))};ft.defaultProps={radios:[]},ft.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,radios:a().arrayOf(a().shape({title:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),value:a().any.isRequired})),value:a().oneOfType([a().string,a().bool]).isRequired};const yt=ft,Nt=({onChange:e,name:s,...o})=>{const i=r=>{const d=r.target.value!=="false";e({target:{name:s,value:d,type:"boolean-radio-group"}})};return n.createElement(yt,{...o,name:s,onChange:i})};Nt.propTypes={name:a().string.isRequired,onChange:a().func.isRequired};const Cn=Nt;var Et=t(36213),ht=t(16364),Rn=t(81154);const Mt=({error:e,intlLabel:s,modifiedData:o,name:i,onChange:r,value:d})=>{const{formatMessage:l}=(0,b.Z)(),[u,m]=(0,n.useState)(!!d||d===0),f=s.id?l({id:s.id,defaultMessage:s.defaultMessage},{...s.values}):i,y=o.type==="biginteger"?"text":"number",p=!o.type,O=e?l({id:e,defaultMessage:e}):"";return n.createElement(I.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(Et.X,{id:i,name:i,onValueChange:T=>{r({target:{name:i,value:T?y==="text"?"0":0:null}}),m(S=>!S)},value:u},f),u&&n.createElement(C.x,{paddingLeft:6,style:{maxWidth:"200px"}},y==="text"?n.createElement(ht.o,{"aria-label":f,disabled:p,error:O,id:i,name:i,onChange:r,value:d===null?"":d}):n.createElement(Rn.Y,{"aria-label":f,disabled:p,error:O,id:i,name:i,onValueChange:T=>{r({target:{name:i,value:T,type:y}})},value:d||0})))};Mt.defaultProps={error:null,value:null},Mt.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().string,a().object,a().bool,a().number])};const Zn=Mt,Kt=({onChange:e,...s})=>{const o=(0,g.useNotification)(),i=r=>{o({type:"info",message:{id:(0,c.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(r)};return n.createElement(yt,{...s,onChange:i})};Kt.propTypes={onChange:a().func.isRequired};const On=Kt,vt=({description:e,disabled:s,intlLabel:o,isCreating:i,name:r,onChange:d,value:l})=>{const{formatMessage:u}=(0,b.Z)(),[m,f]=(0,n.useState)(!1),y=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):r,p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",O=()=>f(R=>!R),T=()=>{d({target:{name:r,value:!1}}),O()},M=({target:{checked:R}})=>{if(!R&&!i){O();return}d({target:{name:r,value:R}})};return n.createElement(n.Fragment,null,n.createElement(Et.X,{checked:l,disabled:s,hint:p,name:r,onChange:M},y),n.createElement(g.ConfirmDialog,{isOpen:m,onToggleDialog:O,onConfirm:T,bodyText:{id:(0,c.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};vt.defaultProps={description:null,disabled:!1,value:!1},vt.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isCreating:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().bool};const Pn=vt,Tt=({categoryName:e,deleteCategory:s,deleteComponent:o,deleteContentType:i,isAttributeModal:r,isCustomFieldModal:d,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:m,isCreatingComponent:f,isCreatingComponentAttribute:y,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:O,isCreatingContentType:T,isCreatingDz:M,isComponentModal:R,isDzAttribute:S,isEditingAttribute:h,isEditingCategory:P,isInFirstComponentStep:D,onSubmitAddComponentAttribute:X,onSubmitAddComponentToDz:ae,onSubmitCreateContentType:Ee,onSubmitCreateComponent:he,onSubmitCreateDz:K,onSubmitEditAttribute:Ie,onSubmitEditCategory:se,onSubmitEditComponent:w,onSubmitEditContentType:Se,onSubmitEditCustomFieldAttribute:ee,onSubmitEditDz:at,onClickFinish:ge})=>{const{formatMessage:Y}=(0,b.Z)();return u?p?n.createElement(ne.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),ae(A,!0)},startIcon:n.createElement(me.Z,null)},Y({id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):n.createElement(ne.z,{variant:"default",type:"submit",onClick:A=>{A.preventDefault(),ae(A,!1)}},Y({id:"global.finish",defaultMessage:"Finish"})):r&&S&&!M?n.createElement(ne.z,{variant:"default",type:"submit",onClick:A=>{A.preventDefault(),ge(),at(A,!1)}},Y({id:"global.finish",defaultMessage:"Finish"})):r&&S&&M?n.createElement(n.Fragment,null,n.createElement(ne.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),K(A,!0)},startIcon:n.createElement(me.Z,null)},Y({id:(0,c.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):r&&l?D?n.createElement(ne.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),X(A,!0)}},Y(y?{id:(0,c.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,c.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):n.createElement(n.Fragment,null,n.createElement(ne.z,{variant:"secondary",type:"submit",onClick:A=>{A.preventDefault(),X(A,!0)},startIcon:n.createElement(me.Z,null)},Y(O?{id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ne.z,{variant:"default",type:"button",onClick:A=>{A.preventDefault(),ge(),X(A,!1)}},Y({id:"global.finish",defaultMessage:"Finish"}))):r&&!l&&!S?n.createElement(n.Fragment,null,n.createElement(ne.z,{type:h?"button":"submit",variant:"secondary",onClick:A=>{A.preventDefault(),Ie(A,!0)},startIcon:n.createElement(me.Z,null)},Y({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ne.z,{type:h?"submit":"button",variant:"default",onClick:A=>{A.preventDefault(),ge(),Ie(A,!1)}},Y({id:"global.finish",defaultMessage:"Finish"}))):m?n.createElement(n.Fragment,null,!T&&n.createElement(n.Fragment,null,n.createElement(ne.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),i()}},Y({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ne.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),Se(A,!1)}},Y({id:"global.finish",defaultMessage:"Finish"}))),T&&n.createElement(ne.z,{type:"submit",variant:"secondary",onClick:A=>{A.preventDefault(),Ee(A,!0)}},Y({id:"global.continue",defaultMessage:"Continue"}))):R?n.createElement(n.Fragment,null,!f&&n.createElement(n.Fragment,null,n.createElement(ne.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),o()}},Y({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ne.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),w(A,!1)}},Y({id:"global.finish",defaultMessage:"Finish"}))),f&&n.createElement(ne.z,{type:"submit",variant:"secondary",onClick:A=>{A.preventDefault(),he(A,!0)}},Y({id:"global.continue",defaultMessage:"Continue"}))):P?n.createElement(n.Fragment,null,n.createElement(ne.z,{type:"button",variant:"danger",onClick:A=>{A.preventDefault(),s(e)}},Y({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ne.z,{type:"submit",variant:"default",onClick:A=>{A.preventDefault(),se(A)}},Y({id:"global.finish",defaultMessage:"finish"}))):d?n.createElement(n.Fragment,null,n.createElement(ne.z,{type:h?"button":"submit",variant:"secondary",onClick:A=>{A.preventDefault(),ee(A,!0)},startIcon:n.createElement(me.Z,null)},Y({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ne.z,{type:h?"submit":"button",variant:"default",onClick:A=>{A.preventDefault(),ge(),ee(A,!1)}},Y({id:"global.finish",defaultMessage:"Finish"}))):null};Tt.defaultProps={categoryName:null,onClickFinish(){}},Tt.propTypes={categoryName:a().string,deleteCategory:a().func.isRequired,deleteComponent:a().func.isRequired,deleteContentType:a().func.isRequired,isAttributeModal:a().bool.isRequired,isCustomFieldModal:a().bool.isRequired,isComponentAttribute:a().bool.isRequired,isComponentModal:a().bool.isRequired,isComponentToDzModal:a().bool.isRequired,isContentTypeModal:a().bool.isRequired,isCreatingComponent:a().bool.isRequired,isCreatingComponentAttribute:a().bool.isRequired,isCreatingComponentInDz:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,isCreatingContentType:a().bool.isRequired,isCreatingDz:a().bool.isRequired,isDzAttribute:a().bool.isRequired,isEditingAttribute:a().bool.isRequired,isEditingCategory:a().bool.isRequired,isInFirstComponentStep:a().bool.isRequired,onSubmitAddComponentAttribute:a().func.isRequired,onSubmitAddComponentToDz:a().func.isRequired,onSubmitCreateContentType:a().func.isRequired,onSubmitCreateComponent:a().func.isRequired,onSubmitCreateDz:a().func.isRequired,onSubmitEditAttribute:a().func.isRequired,onSubmitEditCategory:a().func.isRequired,onSubmitEditComponent:a().func.isRequired,onSubmitEditContentType:a().func.isRequired,onSubmitEditCustomFieldAttribute:a().func.isRequired,onSubmitEditDz:a().func.isRequired,onClickFinish:a().func};const An=Tt;var _t=t(24969),Dn=t(63321),xn=t(36773);const bt=({actionType:e,attributeName:s,attributeType:o,categoryName:i,contentTypeKind:r,dynamicZoneTarget:d,forTarget:l,modalType:u,targetUid:m,customFieldUid:f})=>{const{formatMessage:y}=(0,b.Z)(),{modifiedData:p}=(0,Ce.Z)();let O,T=[];const M=p?.[l]?.[m]||p?.[l]||null;let R=M?.schema.displayName;if(u==="contentType"&&(O=r),["component","editCategory"].includes(u)&&(O="component"),["component","contentType"].includes(u)){let h=(0,c.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(h=(0,c.Z)(`modalForm.${r}.header-create`)),e==="edit"&&(h=(0,c.Z)("modalForm.header-edit")),n.createElement(_t.x,null,n.createElement(I.k,null,n.createElement(C.x,null,n.createElement(Je.Z,{type:O})),n.createElement(C.x,{paddingLeft:3},n.createElement(j.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},y({id:h},{name:R})))))}return T=[{label:R,info:{category:M?.category||null,name:M?.schema.displayName}}],u==="chooseAttribute"&&(O=["component","components"].includes(l)?"component":M.schema.kind),u==="addComponentToDynamicZone"&&(O="dynamiczone",T.push({label:d})),(u==="attribute"||u==="customField")&&(O=o,T.push({label:s})),u==="editCategory"&&(T=[{label:y({id:(0,c.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]),n.createElement(_t.x,null,n.createElement(I.k,{gap:3},n.createElement(Je.Z,{type:O,customField:f}),n.createElement(Dn.O,{label:T.map(({label:h})=>h).join(",")},T.map(({label:h,info:P},D,X)=>{if(h=Te()(h),!h)return null;const ae=`${h}.${D}`;return P?.category&&(h=`${h} (${Te()(P.category)} - ${Te()(P.name)})`),n.createElement(xn.$,{isCurrent:D===X.length-1,key:ae},h)}))))};bt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},bt.propTypes={actionType:a().string,attributeName:a().string,attributeType:a().string,categoryName:a().string,contentTypeKind:a().string,dynamicZoneTarget:a().string,forTarget:a().oneOf(["contentType","component","components"]),modalType:a().string.isRequired,targetUid:a().string,customFieldUid:a().string};const Ln=bt,In=({modalType:e,forTarget:s,kind:o,actionType:i,step:r})=>{switch(e){case"chooseAttribute":return(0,c.Z)(`modalForm.sub-header.chooseAttribute.${s.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,c.Z)(`modalForm.sub-header.attribute.${i}${r!=="null"&&r!==null&&i!=="edit"?".step":""}`);case"customField":return(0,c.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,c.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,c.Z)("configurations")}},Fn=({actionType:e,modalType:s,forTarget:o,kind:i,step:r,attributeType:d,attributeName:l,customField:u})=>{const{formatMessage:m}=(0,b.Z)(),f=s==="customField"?u.intlLabel:{id:(0,c.Z)(`attribute.${d}`)};return n.createElement(I.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},n.createElement(j.Z,{as:"h2",variant:"beta"},m({id:In({actionType:e,forTarget:o,kind:i,step:r,modalType:s}),defaultMessage:"Add new field"},{type:Te()(m(f)),name:Te()(l),step:r})),n.createElement(j.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,c.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};Fn.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Fn.propTypes={actionType:a().string,modalType:a().string,forTarget:a().string,kind:a().string,step:a().string,attributeType:a().string,attributeName:a().string,customField:a().object};const ls=Fn;var ds=t(54574),cs=t(19270),us=t(63237),ms=t(45377),ps=t(49123),Ca=t(12028),gs=t(84495),fs=t(97184),ys=t(20022),Ra=t(44915);const Es=(0,z.ZP)(I.k)`
  label {
    ${Wt.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Za=({iconKey:e,name:s,onChange:o,isSelected:i,ariaLabel:r})=>n.createElement(ds.g,{name:s,required:!1},n.createElement(cs.Q,{htmlFor:e,id:`${e}-label`},n.createElement(us.T,null,n.createElement(ms._,{type:"radio",id:e,name:s,checked:i,onChange:o,value:e,"aria-checked":i,"aria-labelledby":`${e}-label`}),r),n.createElement(I.k,{padding:2,cursor:"pointer",hasRadius:!0,background:i&&"primary200"},n.createElement(J.J,{as:Ra.c[e],color:i?"primary600":"neutral300"}))));Za.propTypes={iconKey:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,isSelected:a().bool.isRequired,ariaLabel:a().string.isRequired};const Un=({intlLabel:e,name:s,onChange:o,value:i})=>{const{formatMessage:r}=(0,b.Z)(),[d,l]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),f=Object.keys(Ra.c),[y,p]=(0,n.useState)(f),O=(0,n.useRef)(null),T=(0,n.useRef)(null),M=()=>{l(!d)},R=({target:{value:P}})=>{m(P),p(()=>f.filter(D=>D.toLowerCase().includes(P.toLowerCase())))},S=()=>{M(),m(""),p(f)},h=()=>{o({target:{name:s,value:""}})};return(0,n.useEffect)(()=>{d&&T.current.focus()},[d]),n.createElement(n.Fragment,null,n.createElement(I.k,{justifyContent:"space-between",paddingBottom:2},n.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},r(e)),n.createElement(I.k,{gap:1},d?n.createElement(ps.w,{ref:T,name:"searchbar",size:"S",placeholder:r({id:(0,c.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||M()},onChange:R,value:u,onClear:S,clearLabel:r({id:(0,c.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},r({id:(0,c.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):n.createElement(Ca.h,{ref:O,onClick:M,"aria-label":r({id:(0,c.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:n.createElement(fs.Z,null),noBorder:!0}),i&&n.createElement(gs.u,{description:r({id:(0,c.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},n.createElement(Ca.h,{onClick:h,"aria-label":r({id:(0,c.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:n.createElement(ys.Z,null),noBorder:!0})))),n.createElement(Es,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},y.length>0?y.map(P=>n.createElement(Za,{key:P,iconKey:P,name:s,onChange:o,isSelected:P===i,ariaLabel:r({id:(0,c.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:P})})):n.createElement(C.x,{padding:4,grow:2},n.createElement(j.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},r({id:(0,c.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Un.defaultProps={value:""},Un.propTypes={intlLabel:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const hs=Un;var Ms=t(23450),Sn=t.n(Ms),Oa=t(97406);const Bn=({description:e,error:s,intlLabel:o,modifiedData:i,name:r,onChange:d,value:l})=>{const{formatMessage:u}=(0,b.Z)(),m=(0,n.useRef)(d),f=i?.displayName||"";(0,n.useEffect)(()=>{if(f){const T=(0,Oa.Z)(f);try{const M=Sn()(T,2);m.current({target:{name:r,value:M}})}catch{m.current({target:{name:r,value:T}})}}else m.current({target:{name:r,value:""}})},[f,r]);const y=s?u({id:s,defaultMessage:s}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",O=u(o);return n.createElement(ht.o,{error:y,label:O,id:r,hint:p,name:r,onChange:d,value:l||""})};Bn.defaultProps={description:null,error:null,value:null},Bn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const vs=Bn;var Wn=t(1734),Pa=t(17205),re=t(59015);const Nn=({oneThatIsCreatingARelationWithAnother:e,target:s})=>{const{contentTypes:o,sortedContentTypesList:i}=(0,Ce.Z)(),r=(0,Ne.I0)(),d=i.filter(xt),l=Z()(o,[s,"plugin"],null),u=Z()(o,[s,"schema","displayName"],"error");return n.createElement(Pa.O,{id:"label",label:`${u}
    ${l?`(from: ${l})`:""}`},d.map(({uid:m,title:f,restrictRelationsTo:y,plugin:p})=>{const O=()=>{const T=p?`${p}_${f}`:f;r({type:re.aG,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:T,targetContentTypeAllowedRelations:y}})};return n.createElement(Pa.s,{key:m,onClick:O},f,"\xA0",p&&n.createElement(n.Fragment,null,"(from: ",p,")"))}))};Nn.defaultProps={target:null},Nn.propTypes={oneThatIsCreatingARelationWithAnother:a().string.isRequired,target:a().string};const Ts=Nn,Kn=({disabled:e,error:s,header:o,isMain:i,name:r,onChange:d,oneThatIsCreatingARelationWithAnother:l,target:u,value:m})=>n.createElement(C.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},n.createElement(I.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?n.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):n.createElement(Ts,{target:u,oneThatIsCreatingARelationWithAnother:l})),n.createElement(lt.i,{background:"neutral200"}),n.createElement(C.x,{padding:4},n.createElement(g.GenericInput,{disabled:e,error:s?.id||null,intlLabel:{id:(0,c.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:r,onChange:d,type:"text",value:m})));Kn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Kn.propTypes={disabled:a().bool,error:a().object,header:a().string,isMain:a().bool,name:a().string.isRequired,onChange:a().func,oneThatIsCreatingARelationWithAnother:a().string,target:a().string,value:a().string};const Aa=Kn;var bs=t(31795),Cs=t(1182),Rs=t(132),Zs=t(70412),Os=t(8204),Ps=t(56858),As=t(39138),Da=t.n(As);const Ds=(0,z.ZP)(C.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,xs=(0,z.ZP)(C.x)`
  background: ${({theme:e,isSelected:s})=>e.colors[s?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:s})=>e.colors[s?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:s})=>e.colors[s?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Ls=(0,z.ZP)(I.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Is={oneWay:bs.Z,oneToOne:Cs.Z,oneToMany:Rs.Z,manyToOne:Zs.Z,manyToMany:Os.Z,manyWay:Ps.Z},_n=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:s,relationType:o,target:i})=>{const r=(0,Ne.I0)(),{formatMessage:d}=(0,b.Z)(),{contentTypes:l,modifiedData:u}=(0,Ce.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],f=["oneWay","manyWay"],p=(e==="contentType"?Z()(u,[e,"schema","kind"],""):e)==="collectionType"?m:f,O=o==="manyToOne",T=Z()(l,[i,"schema","displayName"],"unknown"),M=O?T:s,R=O?s:T,S=Sn()(M,o==="manyToMany"?2:1),h=Z()(l,[i,"schema","restrictRelationsTo"],null),P=Sn()(R,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?n.createElement(I.k,{style:{flex:1}},n.createElement(Ds,null,n.createElement(I.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},n.createElement(ut.k,{tagName:"button"},n.createElement(I.k,{gap:3},p.map(D=>{const X=Is[D],ae=h===null||h.includes(D);return n.createElement(xs,{as:"button",isSelected:o===D,disabled:!ae,key:D,onClick:()=>{ae&&r({type:re.QQ,target:{oneThatIsCreatingARelationWithAnother:s,targetContentType:i,value:D}})},padding:2,type:"button"},n.createElement(X,{key:D}))}))))),n.createElement(Ls,{justifyContent:"center"},n.createElement(j.Z,null,Da()(S,{length:24}),"\xA0"),n.createElement(j.Z,{textColor:"primary600"},d({id:(0,c.Z)(`relation.${o}`)}),"\xA0"),n.createElement(j.Z,null,Da()(P,{length:24})))):null};_n.defaultProps={relationType:null,target:null},_n.propTypes={naturePickerType:a().string.isRequired,oneThatIsCreatingARelationWithAnother:a().string.isRequired,relationType:a().string,target:a().string};const Fs=_n,xa=({formErrors:e,mainBoxHeader:s,modifiedData:o,naturePickerType:i,onChange:r})=>{const d=(0,Wn.Z)(o.relation,o.targetAttribute);return n.createElement(I.k,{style:{position:"relative"}},n.createElement(Aa,{isMain:!0,header:s,error:e?.name||null,name:"name",onChange:r,value:o?.name||""}),n.createElement(Fs,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:s,relationType:d,target:o.target}),n.createElement(Aa,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:r,oneThatIsCreatingARelationWithAnother:s,target:o.target,value:o?.targetAttribute||""}))};xa.propTypes={formErrors:a().object.isRequired,mainBoxHeader:a().string.isRequired,modifiedData:a().object.isRequired,naturePickerType:a().string.isRequired,onChange:a().func.isRequired};const Us=xa,$n=({description:e,disabled:s,intlLabel:o,isCreating:i,name:r,onChange:d,value:l})=>{const{trackUsage:u}=(0,g.useTracking)(),{formatMessage:m}=(0,b.Z)(),[f,y]=(0,n.useState)(!1),p=o.id?m({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):r,O=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",T=()=>y(S=>!S),M=()=>{d({target:{name:r,value:!1}}),u("willDisableWorkflow"),T()},R=({target:{checked:S}})=>{if(!S&&!i){T();return}S&&u("willEnableWorkflow"),d({target:{name:r,value:S}})};return n.createElement(n.Fragment,null,n.createElement(Et.X,{checked:l,disabled:s,hint:O,name:r,onChange:R},p),n.createElement(g.ConfirmDialog,{isOpen:f,onToggleDialog:T,onConfirm:M,bodyText:{id:(0,c.Z)("popUpWarning.review-workflows.message"),defaultMessage:"If you disable the review workflows feature, all stage-related information will be removed for this content-type. Are you sure you want to disable it?"},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.review-workflows.button.confirm"),defaultMessage:"Yes, disable"}}))};$n.defaultProps={description:null,disabled:!1,value:!1},$n.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isCreating:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().bool};const Ss=$n;var Bs=t(29178),Ws=t(90608);const jn=({error:e,intlLabel:s,name:o,onChange:i,value:r})=>{const{formatMessage:d}=(0,b.Z)(),{allComponentsCategories:l}=(0,Ce.Z)(),[u,m]=(0,n.useState)(l),f=e?d({id:e,defaultMessage:e}):"",y=d(s),p=T=>{i({target:{name:o,value:T,type:"select-category"}})},O=T=>{m(M=>[...M,T]),p(T)};return n.createElement(Bs.XU,{error:f,id:o,label:y,name:o,onChange:p,onCreateOption:O,value:r},u.map(T=>n.createElement(Ws.O,{key:T,value:T},T)))};jn.defaultProps={error:null,value:null},jn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const Ns=jn,zn=({error:e,intlLabel:s,isAddingAComponentToAnotherComponent:o,isCreating:i,isCreatingComponentWhileAddingAField:r,componentToCreate:d,name:l,onChange:u,targetUid:m,forTarget:f,value:y})=>{const{formatMessage:p}=(0,b.Z)(),O=e?p({id:e,defaultMessage:e}):"",T=p(s),{componentsGroupedByCategory:M,componentsThatHaveOtherComponentInTheirAttributes:R}=(0,Ce.Z)(),S=["component","components"].includes(f);let h=Object.entries(M).reduce((P,D)=>{const[X,ae]=D,Ee=ae.map(he=>({uid:he.uid,label:he.schema.displayName,categoryName:X}));return[...P,...Ee]},[]);return o&&(h=h.filter(P=>!R.includes(P.uid))),S&&(h=h.filter(P=>P.uid!==m)),r&&(h=[{uid:y,label:d.displayName,categoryName:d.category}]),n.createElement(we.P,{disabled:r||!i,error:O,label:T,id:l,name:l,onChange:P=>{u({target:{name:l,value:P,type:"select-category"}})},value:y||""},h.map(P=>n.createElement(et.W,{key:P.uid,value:P.uid},`${P.categoryName} - ${P.label}`)))};zn.defaultProps={componentToCreate:null,error:null},zn.propTypes={componentToCreate:a().object,forTarget:a().string.isRequired,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isAddingAComponentToAnotherComponent:a().bool.isRequired,isCreating:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,targetUid:a().string.isRequired,value:a().string.isRequired};const Ks=zn,La=({dynamicZoneTarget:e,intlLabel:s,name:o,onChange:i,value:r})=>{const{formatMessage:d}=(0,b.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,Ce.Z)(),f=(dt(u.contentType.schema.attributes,e)||{}).components||[],y=Object.keys(l).reduce((T,M)=>{const R=l[M].filter(({uid:S})=>!f.includes(S));return R.length>0&&(T[M]=R),T},{}),p=Object.entries(y).reduce((T,M)=>{const[R,S]=M,h={label:R,children:S.map(({uid:P,schema:{displayName:D}})=>({label:D,value:P}))};return T.push(h),T},[]),O=d({id:(0,c.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:r.length});return n.createElement(Lt.Q,{id:"select1",label:d(s),customizeContent:()=>O,name:o,onChange:T=>{i({target:{name:o,value:T,type:"select-components"}})},options:p,value:r||[]})};La.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,dynamicZoneTarget:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().array.isRequired};const _s=La,Vn=({intlLabel:e,error:s,modifiedData:o,name:i,onChange:r,options:d,value:l})=>{const{formatMessage:u}=(0,b.Z)(),m=u(e),f=s?u({id:s,defaultMessage:s}):"",y=p=>{r({target:{name:i,value:p,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}})};return n.createElement(we.P,{error:f,label:m,id:i,name:i,onChange:y,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:O,hidden:T},key:M,value:R})=>n.createElement(et.W,{key:M,value:R,disabled:O,hidden:T},u({id:p.id,defaultMessage:p.defaultMessage},p.values))))};Vn.defaultProps={error:void 0,value:""},Vn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};const $s=Vn,Gn=({intlLabel:e,error:s,modifiedData:o,name:i,onChange:r,options:d,value:l})=>{const{formatMessage:u}=(0,b.Z)(),m=u(e),f=s?u({id:s,defaultMessage:s}):"",y=p=>{r({target:{name:i,value:p,type:"select"}}),l&&(p==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})))};return n.createElement(we.P,{error:f,label:m,id:i,name:i,onChange:y,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:O,hidden:T},key:M,value:R})=>n.createElement(et.W,{key:M,value:R,disabled:O,hidden:T},u(p))))};Gn.defaultProps={error:void 0,value:""},Gn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};const js=Gn,kn=({description:e,error:s,intlLabel:o,modifiedData:i,name:r,onChange:d,value:l})=>{const{formatMessage:u}=(0,b.Z)(),m=(0,n.useRef)(d),f=i?.displayName||"";(0,n.useEffect)(()=>{f?m.current({target:{name:r,value:(0,Oa.Z)(f)}}):m.current({target:{name:r,value:""}})},[f,r]);const y=s?u({id:s,defaultMessage:s}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",O=u(o);return n.createElement(ht.o,{error:y,label:O,id:r,hint:p,name:r,onChange:d,value:l||""})};kn.defaultProps={description:null,error:null,value:null},kn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};const zs=kn,Ia=({form:e,formErrors:s,genericInputProps:o,modifiedData:i,onChange:r})=>{const{formatMessage:d}=(0,b.Z)();return e.map((l,u)=>l.items.length===0?null:n.createElement(C.x,{key:u},l.sectionTitle&&n.createElement(C.x,{paddingBottom:4},n.createElement(j.Z,{variant:"delta",as:"h3"},d(l.sectionTitle))),n.createElement(mt.r,{gap:4},l.items.map((m,f)=>{const y=`${u}.${f}`,p=Z()(i,m.name,""),O=Object.keys(s).find(M=>M===m.name),T=O?s[O].id:Z()(s,[...m.name.split(".").filter(M=>M!=="componentToCreate"),"id"],null);return m.type==="pushRight"?n.createElement(Qe.P,{col:m.size||6,key:m.name||y},n.createElement("div",null)):n.createElement(Qe.P,{col:m.size||6,key:m.name||y},n.createElement(g.GenericInput,{...m,...o,error:T,onChange:r,value:p}))}))))};Ia.propTypes={form:a().arrayOf(a().object).isRequired,formErrors:a().object.isRequired,genericInputProps:a().object.isRequired,modifiedData:a().object.isRequired,onChange:a().func.isRequired};const Fa=Ia;var Vs=t(61467);const Hn=({description:e,disabled:s,error:o,intlLabel:i,labelAction:r,name:d,onChange:l,placeholder:u,value:m})=>{const{formatMessage:f}=(0,b.Z)(),y=o?f({id:o,defaultMessage:o}):"",p=e?f({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",O=f(i),T=u?f({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",M=Array.isArray(m)?m.join(`
`):"",R=S=>{const h=S.target.value.split(`
`);l({target:{name:d,value:h}})};return n.createElement(Vs.g,{disabled:s,error:y,label:O,labelAction:r,id:d,hint:p,name:d,onChange:R,placeholder:T,value:M},M)};Hn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Hn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,labelAction:a().element,name:a().string.isRequired,onChange:a().func.isRequired,placeholder:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),value:a().oneOfType([a().array,a().string])};const Gs=Hn,Ue={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},ks={sections:[{sectionTitle:null,items:[Ue]}]},qn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,c.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,c.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]};var v=t(87561);const Ua=/^[A-Za-z][-_0-9A-Za-z]*$/,Hs=e=>{const s={name:v.Z_().matches(Ua,g.translatedErrors.regex).test({name:"nameNotAllowed",message:g.translatedErrors.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(g.translatedErrors.required)};return v.Ry(s)},qs={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}};var tt=t(97392);const Xs=(e,s,o)=>{const i={displayName:v.Z_().test({name:"nameAlreadyUsed",message:g.translatedErrors.unique,test(r){if(!r)return!1;const d=(0,tt.N)(r,o);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(r){return r?!s.includes(r?.trim()?.toLowerCase()):!1}}).required(g.translatedErrors.required),category:v.Z_().matches(Ua,g.translatedErrors.regex).required(g.translatedErrors.required),icon:v.Z_()};return v.Ry(i)},nt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,c.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,c.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},x={default:{name:"default",type:"text",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,c.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,c.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,c.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,c.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,c.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Sa={advanced:{boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},component({repeatable:e},s){return s==="1"?{sections:nt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private,x.max,x.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...x.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.max,x.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...x.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.maxLength,x.minLength,x.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((s,o)=>e.enum.indexOf(s)===o&&s).map(s=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}))]},{intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,c.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,c.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},number(e){const s=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:s,intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.max,x.min,x.private]}]}},password(){return{sections:[{sectionTitle:null,items:[x.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[x.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}},text(){return{sections:[{sectionTitle:null,items:[x.default,x.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.maxLength,x.minLength,x.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...x.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}}},base:{component(e,s){if(s==="1"){const o=e.createComponent===!0?nt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[qn]},...o]}}return{sections:[{sectionTitle:null,items:[Ue,{name:"component",type:"select-component",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,c.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,c.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ue,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,c.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,c.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,c.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,c.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ue,{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,s,o){const i=o.filter(({type:r})=>["string","text"].includes(r)).map(({name:r})=>({key:r,value:r,metadatas:{intlLabel:{id:`${r}.no-override`,defaultMessage:r}}}));return{sections:[{sectionTitle:null,items:[{...Ue,placeholder:{id:(0,c.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,c.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}};var Ys=t(44908),Qs=t.n(Ys),Js=t(46831),ws=t.n(Js);const Xn=e=>ws()(e,{decamelize:!1,lowercase:!1,separator:"_"});var eo=t(14841),Yn=t.n(eo);const Ba=/^[A-Za-z][_0-9A-Za-z]*$/,Wa=e=>({name:"attributeNameAlreadyUsed",message:g.translatedErrors.unique,test(s){return s?!e.includes(s):!1}}),hr=(e,s,o)=>{const i=e?.schema?.attributes??{};return Object.keys(i).filter(r=>s?r!==o:!0)},Qn=e=>({name:"forbiddenAttributeName",message:(0,c.Z)("error.attributeName.reserved-name"),test(s){return s?!e.includes(s):!1}}),E={default:()=>v.Z_().nullable(),max:()=>v.Rx().integer().nullable(),min:()=>v.Rx().integer().when("max",(e,s)=>e?s.max(e,(0,c.Z)("error.validation.minSupMax")):s).nullable(),maxLength:()=>v.Rx().integer().positive((0,c.Z)("error.validation.positive")).nullable(),minLength:()=>v.Rx().integer().min(0).when("maxLength",(e,s)=>e?s.max(e,(0,c.Z)("error.validation.minSupMax")):s).nullable(),name(e,s){return v.Z_().test(Wa(e)).test(Qn(s)).matches(Ba,g.translatedErrors.regex).required(g.translatedErrors.required)},required:()=>v.O7(),type:()=>v.Z_().required(g.translatedErrors.required),unique:()=>v.O7().nullable()},Jn=(e,s)=>({name:E.name(e,s),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength(),regex:v.Z_().test({name:"isValidRegExpPattern",message:(0,c.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),wn={name:"isMinSuperiorThanMax",message:(0,c.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:s}=this.parent;return!s||Number.isNaN(Yn()(e))?!0:Yn()(s)>=Yn()(e)}},ea={date(e,s){const o={name:E.name(e,s),type:E.type()};return v.Ry(o)},datetime(e,s){const o={name:E.name(e,s),type:E.type()};return v.Ry(o)},time(e,s){const o={name:E.name(e,s),type:E.type()};return v.Ry(o)},default(e,s){const o={name:E.name(e,s),type:E.type()};return v.Ry(o)},biginteger(e,s){const o={name:E.name(e,s),type:E.type(),default:v.Z_().nullable().matches(/^-?\d*$/),unique:E.unique(),required:E.required(),max:v.Z_().nullable().matches(/^-?\d*$/,g.translatedErrors.regex),min:v.Z_().nullable().test(wn).matches(/^-?\d*$/,g.translatedErrors.regex)};return v.Ry(o)},boolean(e,s){const o={name:E.name(e,s),default:v.O7().nullable(),required:E.required(),unique:E.unique()};return v.Ry(o)},component(e,s){const o={name:E.name(e,s),type:E.type(),required:E.required(),max:E.max(),min:E.min(),component:v.Z_().required(g.translatedErrors.required)};return v.Ry(o)},decimal(e,s){const o={name:E.name(e,s),type:E.type(),default:v.Rx(),required:E.required(),max:v.Rx(),min:v.Rx().test(wn)};return v.Ry(o)},dynamiczone(e,s){const o={name:E.name(e,s),type:E.type(),required:E.required(),max:E.max(),min:E.min()};return v.Ry(o)},email(e,s){const o={name:E.name(e,s),type:E.type(),default:v.Z_().email().nullable(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return v.Ry(o)},enumeration(e,s){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:v.Z_().test(Wa(e)).test(Qn(s)).matches(o,g.translatedErrors.regex).required(g.translatedErrors.required),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),enum:v.IX().of(v.Z_()).min(1,g.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,c.Z)("error.validation.enum-duplicate"),test(r){return!Qs()(r.map(Xn).filter((l,u,m)=>m.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,c.Z)("error.validation.enum-empty-string"),test:r=>!r.map(Xn).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,c.Z)("error.validation.enum-regex"),test:r=>r.map(Xn).every(d=>o.test(d))}),enumName:v.Z_().nullable()};return v.Ry(i)},float(e,s){const o={name:E.name(e,s),type:E.type(),required:E.required(),default:v.Rx(),max:v.Rx(),min:v.Rx().test(wn)};return v.Ry(o)},integer(e,s){const o={name:E.name(e,s),type:E.type(),default:v.Rx().integer(),unique:E.unique(),required:E.required(),max:E.max(),min:E.min()};return v.Ry(o)},json(e,s){const o={name:E.name(e,s),type:E.type(),required:E.required(),unique:E.unique()};return v.Ry(o)},media(e,s){const o={name:E.name(e,s),type:E.type(),multiple:v.O7(),required:E.required(),allowedTypes:v.IX().of(v.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return v.Ry(o)},password(e,s){const o={name:E.name(e,s),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return v.Ry(o)},relation(e,s,o,{initialData:i,modifiedData:r}){const d={name:E.name(e,s),target:v.Z_().required(g.translatedErrors.required),relation:v.Z_().required(),type:v.Z_().required(),targetAttribute:v.Vo(()=>{const l=(0,Wn.Z)(r.relation,r.targetAttribute);if(l==="oneWay"||l==="manyWay")return v.Z_().nullable();let u=v.Z_().test(Qn(s)),f=[...o.map(({name:y})=>y),r.name].filter(y=>y!==i.targetAttribute);return u.matches(Ba,g.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,c.Z)("error.validation.relation.targetAttribute-taken"),test(y){return y?!f.includes(y):!1}}).required(g.translatedErrors.required)})};return v.Ry(d)},richtext(e,s){const o={name:E.name(e,s),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return v.Ry(o)},string(e,s){const o=Jn(e,s);return v.Ry(o)},text(e,s){const o=Jn(e,s);return v.Ry(o)},uid(e,s){const o=Jn(e,s);return v.Ry(o)}},to=({usedContentTypeNames:e=[],reservedModels:s=[],singularNames:o=[],pluralNames:i=[],collectionNames:r=[]})=>{const d={displayName:v.Z_().test({name:"nameAlreadyUsed",message:g.translatedErrors.unique,test(l){if(!l)return!1;const u=(0,tt.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!s.includes(l?.trim()?.toLowerCase()):!1}}).required(g.translatedErrors.required),pluralName:v.Z_().test({name:"pluralNameAlreadyUsed",message:g.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,c.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!s.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,c.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!r.includes(l?.trim()?.toLowerCase()):!1}}).required(g.translatedErrors.required),singularName:v.Z_().test({name:"singularNameAlreadyUsed",message:g.translatedErrors.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,c.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!s.includes(l?.trim()?.toLowerCase()):!1}}).required(g.translatedErrors.required),draftAndPublish:v.O7(),kind:v.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:v.O7()};return v.Ry(d)},Na={name:"displayName",type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},ta={advanced:{default(){const e=[{intlLabel:{id:(0,c.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,c.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}];return window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&e.push({intlLabel:{id:(0,c.Z)("contentType.reviewWorkflows.label"),defaultMessage:"Review Workflows"},description:{id:(0,c.Z)("contentType.reviewWorkflows.description"),defaultMessage:"Allows having content in different review stages"},name:"reviewWorkflows",type:"toggle-review-workflows",validations:{}}),{sections:[{items:e}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Na,{description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Na,{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,c.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,c.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,c.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},na={advanced:{default(){return{sections:nt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[qn]},...nt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[qn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Ka=(e,s)=>{e.forEach(o=>{if(!("sectionTitle"in o)){s[0].items.push(o);return}s.push(o)})},_a=(e,s)=>e.filter(({name:o})=>o!==s.initialData.name).map(({name:o})=>o),He={customField:{schema({schemaAttributes:e,attributeType:s,customFieldValidator:o,reservedNames:i,schemaData:r,ctbFormsAPI:d}){const l=_a(e,r),u=ea[s](l,i.attributes);return d.makeCustomFieldValidator(u,o,l,i.attributes,r)},form:{base({customField:e}){const s=[{sectionTitle:null,items:[Ue]}];return e.options?.base&&Ka(e.options.base,s),{sections:s}},advanced({customField:e,data:s,step:o,extensions:i,...r}){const d=[{sectionTitle:null,items:[]}],l=i.getAdvancedForm(["attribute",e.type],{data:s,type:e.type,step:o,...r});if(e.options?.advanced&&Ka(e.options.advanced,d),l){const u={sectionTitle:{id:(0,c.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};d.push(u)}return{sections:d}}}},attribute:{schema(e,s,o,i,r,d){const l=e?.schema?.attributes??[],u=_a(l,r);try{let m=ea[s](u,o.attributes,i,r);return d.makeValidator(["attribute",s],m,u,o.attributes,i,r)}catch(m){return console.error("Error yup build schema",m),ea.default(u,o.attributes)}},form:{advanced({data:e,type:s,step:o,extensions:i,...r}){try{const d=Sa.advanced[s](e,o).sections,l=i.getAdvancedForm(["attribute",s],{data:e,type:s,step:o,...r});return{sections:d.reduce((m,f)=>(f.sectionTitle===null?m.push(f):m.push({...f,items:[...f.items,...l]}),m),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:s,step:o,attributes:i}){try{return Sa.base[s](e,o,i)}catch{return ks}}}},contentType:{schema(e,s,o,i,r,d){const l=Object.values(d).map(M=>M.schema.singularName),u=Object.values(d).map(M=>M?.schema?.pluralName??""),m=s?e.filter(M=>M!==o):e,f=s?l.filter(M=>{const{schema:R}=d[o];return R.singularName!==M}):l,y=s?u.filter(M=>{const{schema:R}=d[o];return R.pluralName!==M}):u,p=Object.values(d).map(M=>M?.schema?.collectionName??""),O=s?p.filter(M=>{const{schema:R}=d[o],S=R.pluralName,h=R.collectionName;return M!==S||M!==h}):p,T=to({usedContentTypeNames:m,reservedModels:i.models,singularNames:f,pluralNames:y,collectionNames:O});return r.makeValidator(["contentType"],T,m,i.models,f,y)},form:{base({actionType:e}){return e==="create"?ta.base.create():ta.base.edit()},advanced({extensions:e}){const s=ta.advanced.default().sections.map(i=>i.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...s,...o]}]}}}},component:{schema(e,s,o,i=!1,r=null){const d=i?e.filter(l=>l!==r):e;return Xs(d,o.models,s)},form:{advanced(){return{sections:nt.advanced()}},base(){return{sections:nt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return na.advanced.default()},base({data:e}){return e?.createComponent??!1?na.base.createComponent():na.base.default()}}},editCategory:{schema(e,s){const o=e.filter(i=>i!==s.name).map(i=>i.toLowerCase());return Hs(o)},form:{advanced:()=>({sections:[]}),base(){return qs.base}}}};var $a=t(20573),no=t(88372);const ao=()=>e=>e[`${te.Z}_formModal`]||no.E,so=()=>(0,$a.P1)(ao(),e=>e),oo=(e,s)=>{const o=Z()(e,["contentType","schema","kind"],"");return o==="singleType"||o===s.kind?!0:Z()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:l,targetAttribute:u})=>{const m=(0,Wn.Z)(d,u);return l==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},ro=(e="",s,o)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],r=e==="contentType",d=o.includes(s),l=!r&&!d;return r?[[...i,"uid"],["component","dynamiczone"]]:l?[i,["component"]]:[i]},ja=e=>e.reduce((s,o)=>{const i=o.items.reduce((r,d)=>(d.name&&r.push(d.name),r),[]);return[...s,...i]},[]),io=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:s,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:i,actionType:r,attributeName:d,attributeType:l,customFieldUid:u,categoryName:m,dynamicZoneTarget:f,forTarget:y,modalType:p,isOpen:O,kind:T,step:M,targetUid:R}=(0,Ye.Z)(),S=(0,g.useCustomFields)().get(u),h=(0,n.useRef)(),P=(0,n.useMemo)(so,[]),D=(0,Ne.I0)(),X=(0,g.useNotification)(),ae=(0,Ne.v9)($=>P($),Ne.wU),{push:Ee}=(0,B.k6)(),{trackUsage:he}=(0,g.useTracking)(),{formatMessage:K}=(0,b.Z)(),{getPlugin:Ie}=(0,g.useStrapiApp)(),w=Ie(te.Z).apis.forms,Se=w.components.inputs,{addAttribute:ee,addCustomFieldAttribute:at,addCreatedComponentToDynamicZone:ge,allComponentsCategories:Y,changeDynamicZoneComponents:A,contentTypes:st,components:Rt,createSchema:ot,deleteCategory:sa,deleteData:jt,editCategory:oa,editCustomFieldAttribute:ra,submitData:ia,modifiedData:Me,nestedComponents:la,setModifiedData:da,sortedContentTypesList:ca,updateSchema:ua,reservedNames:Ke}=(0,Ce.Z)(),{componentToCreate:Zt,formErrors:_e,initialData:be,isCreatingComponentWhileAddingAField:qe,modifiedData:W}=ae,L=y==="contentType"||y==="component"?[y]:[y,R];(0,n.useEffect)(()=>{if(O){const $=ca.filter(xt);p==="editCategory"&&da(),r==="edit"&&p==="attribute"&&y==="contentType"&&he("willEditFieldOfContentType");const Oe=[...L,"schema","attributes"],xe=dt(Z()(Me,Oe,[]),f)||null;if(p==="editCategory"&&r==="edit"&&D({type:re._H,modalType:p,actionType:r,data:{name:m}}),p==="contentType"&&r==="create"&&D({type:re._H,modalType:p,actionType:r,data:{draftAndPublish:!0,reviewWorkflows:!1},pluginOptions:{}}),p==="contentType"&&r==="edit"){const{displayName:V,draftAndPublish:ce,kind:Le,pluginOptions:ve,pluralName:tr,reviewWorkflows:nr,singularName:ar}=Z()(Me,[...L,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});D({type:re._H,actionType:r,modalType:p,data:{displayName:V,draftAndPublish:ce,kind:Le,pluginOptions:ve,pluralName:tr,reviewWorkflows:nr??!1,singularName:ar}})}if(p==="component"&&r==="edit"){const V=Z()(Me,L,{});D({type:re._H,actionType:r,modalType:p,data:{displayName:V.schema.displayName,category:V.category,icon:V.schema.icon}})}if(p==="addComponentToDynamicZone"&&r==="edit"){const V={...xe,components:[],name:f,createComponent:!1,componentToCreate:{type:"component"}};D({type:re.VZ,attributeToEdit:V})}if(l){const ce={...dt(Z()(Me,Oe,[]),d),name:d};l==="component"&&r==="edit"&&(ce.repeatable||Ot()(ce,"repeatable",!1)),D(p==="customField"?{type:re.OY,customField:S,isEditing:r==="edit",modifiedDataToSetForEditing:ce,forTarget:y}:{type:re.S0,attributeType:l,nameToSetForRelation:Z()($,["0","title"],"error"),targetUid:Z()($,["0","uid"],"error"),isEditing:r==="edit",modifiedDataToSetForEditing:ce,step:M,forTarget:y})}}else D({type:re.c2})},[r,d,l,m,f,y,O,p]);const F=p==="contentType",_=p==="component",oe=p==="attribute",Re=p==="customField",Ze=l==="component"&&oe,Ae=r==="create",Be=Z()(W,"createComponent",!1)||qe,rt=M==="1",es=p==="editCategory",ts=p==="chooseAttribute",ma=(0,tt.E)(W.displayName||""),pa=Z()(Me,[...L,"schema","attributes"],null),$o=async()=>{let $;const Oe=Be&&M==="1"?Z()(W,"componentToCreate",{}):W;if(F)$=He.contentType.schema(Object.keys(st),r==="edit",Z()(Me,[...L,"uid"],null),Ke,w,st);else if(_)$=He.component.schema(Object.keys(Rt),W.category||"",Ke,r==="edit",Z()(Me,[...L,"uid"],null),w);else if(Re)$=He.customField.schema({schemaAttributes:Z()(Me,[...L,"schema","attributes"],[]),attributeType:S.type,reservedNames:Ke,schemaData:{modifiedData:W,initialData:be},ctbFormsAPI:w,customFieldValidator:S.options?.validator});else if(Ze&&Be&&rt)$=He.component.schema(Object.keys(Rt),Z()(W,"componentToCreate.category",""),Ke,w);else if(oe&&!rt){const xe=l==="relation"?"relation":W.type;let V=[];if(xe==="relation"){const ce=Z()(W,["target"],null);V=Z()(st,[ce,"schema","attributes"],[]).filter(({name:ve})=>r!=="edit"?!0:ve!==be.targetAttribute)}$=He.attribute.schema(Z()(Me,L,{}),xe,Ke,V,{modifiedData:W,initialData:be},w)}else if(es)$=He.editCategory.schema(Y,be,w);else if(rt&&Be)$=He.component.schema(Object.keys(Rt),Z()(W,"componentToCreate.category",""),Ke,w);else return;await $.validate(Oe,{abortEarly:!1})},ns=(0,n.useCallback)(({target:{name:$,value:Oe,type:xe,...V}})=>{const ce=["enumName","max","min","maxLength","minLength","regex","default"];let Le;ce.includes($)&&Oe===""?Le=null:Le=Oe;const ve=Object.assign({},_e);$==="max"&&delete ve.min,$==="maxLength"&&delete ve.minLength,delete ve[$],D({type:re.Ey,errors:ve}),D({type:re.P0,keys:$.split("."),value:Le,...V})},[D,_e]),De=async($,Oe=Ae)=>{$.preventDefault();try{await $o(),Vo(Oe);const xe=y==="components"?R:ma;if(F)if(Ae)ot({...W,kind:T},p,ma),Ee({pathname:`/plugins/${te.Z}/content-types/${ma}`}),s({forTarget:y,targetUid:xe});else{oo(Me,W)?(e(),ia(W)):X({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(Ae){const V=(0,tt.N)(W.displayName,W.category),{category:ce,...Le}=W;ot(Le,"component",V,ce),Ee({pathname:`/plugins/${te.Z}/component-categories/${ce}/${V}`}),s({forTarget:y,targetUid:V})}else{ua(W,p,R),e();return}else if(es){if(Dt()(be.name)===Dt()(W.name)){e();return}oa(be.name,W);return}else if(Re){const V={attributeToSet:{...W,customField:u},forTarget:y,targetUid:R,initialAttribute:be};r==="edit"?ra(V):at(V),Oe?s({forTarget:y,targetUid:xe}):e();return}else if(oe&&!Be){if(l==="dynamiczone"){ee(W,y,R,r==="edit",be),Ae?(D({type:re.I}),h.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:W.name})):e();return}if(!Ze){ee(W,y,R,r==="edit",be),Oe?s({forTarget:y,targetUid:xe}):e();return}if(rt){i(),D({type:re.yC,forTarget:y});return}ee(W,y,R,r==="edit",be,!0),Oe?s({forTarget:y,targetUid:R}):e()}else if(oe&&Be){if(rt){he("willCreateComponentFromAttributesModal"),D({type:re.oF,forTarget:y}),i();return}const{category:V,type:ce,...Le}=Zt,ve=(0,tt.N)(Zt.displayName,V);ot(Le,ce,ve,V,Be),ee(W,y,R,!1),D({type:re.c2}),Oe?s({forTarget:"components",targetUid:ve}):e();return}else{if(rt)if(Be){const{category:V,type:ce,...Le}=W.componentToCreate,ve=(0,tt.N)(W.componentToCreate.displayName,V);ot(Le,ce,ve,V,Be),ge(f,[ve]),s({forTarget:"components",targetUid:ve})}else A(f,W.components),e();else console.error("This case is not handled");return}D({type:re.c2})}catch(xe){const V=(0,g.getYupInnerErrors)(xe);console.log({err:xe,errors:V}),D({type:re.Ey,errors:V})}},jo=()=>{window.confirm(K({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),D({type:re.c2}))},as=()=>{ze()(W,be)?(e(),D({type:re.c2})):jo()},zo=$=>{if($==="advanced"){if(F){he("didSelectContentTypeSettings");return}y==="contentType"&&he("didSelectContentTypeFieldSettings")}},Vo=$=>{p==="attribute"&&y==="contentType"&&l!=="dynamiczone"&&$&&he("willAddMoreFieldToContentType")},Go=()=>!!(p==="editCategory"||p==="component"||an()(W,"createComponent")),ko=ro(y,R,la);if(!O||!p)return null;const ss=Z()(He,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Ho=y==="components"||y==="component",os={customInputs:{"allowed-types-select":rn,"boolean-radio-group":Cn,"checkbox-with-number-field":Zn,"icon-picker":hs,"content-type-radio-group":On,"radio-group":yt,relation:Us,"select-category":Ns,"select-component":Ks,"select-components":_s,"select-default-boolean":Tn,"select-number":js,"select-date":$s,"toggle-draft-publish":Pn,"toggle-review-workflows":Ss,"text-plural":vs,"text-singular":zs,"textarea-enum":Gs,...Se},componentToCreate:Zt,dynamicZoneTarget:f,formErrors:_e,isAddingAComponentToAnotherComponent:Ho,isCreatingComponentWhileAddingAField:qe,mainBoxHeader:Z()(Me,[...L,"schema","displayName"],""),modifiedData:W,naturePickerType:y,isCreating:Ae,targetUid:R,forTarget:y},rs=ss.advanced({data:W,type:l,step:M,actionType:r,attributes:pa,extensions:w,forTarget:y,contentTypeSchema:Me.contentType||{},customField:S}).sections,is=ss.base({data:W,type:l,step:M,actionType:r,attributes:pa,extensions:w,forTarget:y,contentTypeSchema:Me.contentType||{},customField:S}).sections,qo=ja(is),Xo=ja(rs),Yo=Object.keys(_e).some($=>qo.includes($)),Qo=Object.keys(_e).some($=>Xo.includes($)),Jo=Z()(st,[R,"schema","kind"]),wo=()=>r==="edit"&&pa.every(({name:$})=>$!==W?.name),er=()=>{wo()&&he("didEditFieldNameOnContentType")};return n.createElement(en.P,{onClose:as,labelledBy:"title"},n.createElement(Ln,{actionType:r,attributeName:d,categoryName:m,contentTypeKind:T,dynamicZoneTarget:f,modalType:p,forTarget:y,targetUid:R,attributeType:l,customFieldUid:u}),ts&&n.createElement(vn,{attributes:ko,forTarget:y,kind:Jo||"collectionType"}),!ts&&n.createElement("form",{onSubmit:De},n.createElement(Pt.f,null,n.createElement(At.v,{label:"todo",id:"tabs",variant:"simple",ref:h,onTabChange:$=>{$===1&&zo("advanced")}},n.createElement(I.k,{justifyContent:"space-between"},n.createElement(ls,{actionType:r,forTarget:y,kind:T,step:M,modalType:p,attributeType:l,attributeName:d,customField:S}),n.createElement(Ge.m,null,n.createElement(Ge.O,{hasError:Yo},K({id:(0,c.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),n.createElement(Ge.O,{hasError:Qo,disabled:Go()},K({id:(0,c.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),n.createElement(lt.i,null),n.createElement(C.x,{paddingTop:6},n.createElement(ke.n,null,n.createElement(ke.x,null,n.createElement(I.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Fa,{form:is,formErrors:_e,genericInputProps:os,modifiedData:W,onChange:ns}))),n.createElement(ke.x,null,n.createElement(I.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Fa,{form:rs,formErrors:_e,genericInputProps:os,modifiedData:W,onChange:ns}))))))),n.createElement(tn.m,{endActions:n.createElement(An,{deleteCategory:sa,deleteContentType:jt,deleteComponent:jt,categoryName:be.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:r==="create",isCreatingDz:r==="create",isCreatingComponentAttribute:W.createComponent||!1,isCreatingComponentInDz:W.createComponent||!1,isCreatingComponentWhileAddingAField:qe,isCreatingContentType:r==="create",isEditingAttribute:r==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:M==="1",onSubmitAddComponentAttribute:De,onSubmitAddComponentToDz:De,onSubmitCreateComponent:De,onSubmitCreateContentType:De,onSubmitCreateDz:De,onSubmitEditAttribute:De,onSubmitEditCategory:De,onSubmitEditComponent:De,onSubmitEditContentType:De,onSubmitEditCustomFieldAttribute:De,onSubmitEditDz:De,onClickFinish:er}),startActions:n.createElement(ne.z,{variant:"tertiary",onClick:as},K({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))};var pe=t(92407),lo=t(87431);const co=()=>e=>e[`${te.Z}_dataManagerProvider`]||lo.E,uo=()=>(0,$a.P1)(co(),e=>e);var mo=t(68929),po=t.n(mo),go=t(57557),za=t.n(go),fo=t(89734),yo=t.n(fo);const Eo=(e,s)=>{const o=Object.keys(e).filter(i=>{const r=Z()(e,i,{}),d=Z()(s,i,{}),l=Z()(r,["isTemporary"],!1),u=!ze()(r,d);return l||u});return(0,Ve.Z)(o)},ho=(e,s)=>{const o=Ga(Z()(e,"schema.attributes",[]),s),i=Z()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},za()(e.schema,"attributes"),{attributes:o})},Va=(e,s=!1)=>{const o=Z()(e,"uid",null),i=Ga(Z()(e,"schema.attributes",[]),o),r=s?{category:Z()(e,"category","")}:{},d=Object.assign(r,za()(e.schema,"attributes"),{attributes:i});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},Ga=(e,s)=>e.reduce((o,{name:i,...r})=>{const d=r,l=d.target===s,u=d.type==="relation",m=Z()(d,"targetAttribute",null);if(!l)if(u){const f=Object.assign({},d,{targetAttribute:ka(m)});o[i]=$t(f)}else o[i]=$t(d);if(l){const f=d.target,y=Object.assign({},d,{target:f,targetAttribute:ka(m)});o[i]=$t(y)}if(d.customField){const f={...d,type:"customField"};o[i]=$t(f)}return o},{}),ka=e=>e==="-"?null:e,$t=e=>Object.keys(e).reduce((s,o)=>(e[o]!==null&&o!=="plugin"&&(s[o]=e[o]),s),{}),Mo=(e,s,o,i=!1)=>Eo(e,s).map(l=>{const u=Z()(e,l,{});return ho(u,o,i)}),vo=e=>yo()(Object.keys(e).map(s=>({visible:e[s].schema.visible,name:s,title:e[s].schema.displayName,plugin:e[s].plugin||null,uid:s,to:`/plugins/${te.Z}/content-types/${s}`,kind:e[s].schema.kind,restrictRelationsTo:e[s].schema.restrictRelationsTo})).filter(s=>s!==null),s=>po()(s.title)),Ha=e=>e.reduce((s,o)=>(s[o.uid]=o,s),{}),To=(e,s,o,i)=>{const r=s.reduce((u,m)=>{const f=Z()(o,m,{});return u[m]=f,u},{});return{[i?"contentType":"component"]:e,components:r}},bo=e=>Object.keys(e).reduce((s,o)=>{const i=e[o].schema;return s[o]={...e[o],schema:{...i,attributes:Co(i.attributes)}},s},{}),Co=e=>Object.keys(e).reduce((s,o)=>(s.push({...e[o],name:o}),s),[]),qa=bo;var Ro=t(19525);const Zo=e=>{const s=Object.keys(e).reduce((o,i)=>{const r=Z()(e,[i],{}),d=r.uid;return Oo(r)&&o.push(d),o},[]);return(0,Ve.Z)(s)},Oo=e=>Z()(e,["schema","attributes"],[]).some(o=>{const{type:i}=o;return i==="component"}),Po=e=>{const s=Object.keys(e).reduce((o,i)=>{const r=e?.[i]?.schema?.attributes??[],d=Ao(r);return[...o,...d]},[]);return(0,Ve.Z)(s)},Ao=e=>e.reduce((s,o)=>{const{type:i,component:r}=o;return i==="component"&&s.push(r),s},[]),Xa=Po,Do=(e,s)=>{const o=Object.keys(e).map(i=>Z()(e,[i,...s],""));return(0,Ve.Z)(o)},Ya="did-not-kill-server",xo="server is down";function Ct(e,s){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(xo);if(!s)throw new Error(Ya);o(e)}).catch(i=>{setTimeout(()=>Ct(e,i.message!==Ya).then(o),100)})})}const Lo=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0),aa=({children:e,components:s,contentTypes:o,isLoading:i,isLoadingForDataToBeSet:r,initialData:d,modifiedData:l,reservedNames:u})=>{const m=(0,Ne.I0)(),f=(0,g.useNotification)(),{lockAppWithAutoreload:y,unlockAppWithAutoreload:p}=(0,g.useAutoReloadOverlayBlocker)(),{setCurrentStep:O}=(0,g.useGuidedTour)(),{getPlugin:T}=(0,g.useStrapiApp)(),{apis:M}=T(te.Z),{autoReload:R}=(0,g.useAppInfo)(),{formatMessage:S}=(0,b.Z)(),{trackUsage:h}=(0,g.useTracking)(),{refetchPermissions:P}=(0,g.useRBACProvider)(),{pathname:D}=(0,B.TH)(),{onCloseModal:X}=(0,Ye.Z)(),ae=(0,B.$B)(`/plugins/${te.Z}/content-types/:uid`),Ee=(0,B.$B)(`/plugins/${te.Z}/component-categories/:categoryUid/:componentUid`),he=(0,g.useFetchClient)(),{put:K,post:Ie,del:se}=he,w=(0,n.useRef)();w.current=S;const Se=R,ee=ae!==null,at=ee?"contentType":"component",ge=ee?Z()(ae,"params.uid",null):Z()(Ee,"params.componentUid",null),Y=(0,n.useRef)(),A=ee?"content-types":"components";Y.current=async()=>{try{const[{data:{data:L}},{data:{data:F}},{data:_}]=await Promise.all(["components","content-types","reserved-names"].map(Be=>he.get(`/${te.Z}/${Be}`))),oe=Ha(L),Re=qa(oe),Ze=Ha(F),Ae=qa(Ze);m({type:pe.Id,components:Re,contentTypes:Ae,reservedNames:_})}catch(L){console.error({err:L}),f({type:"warning",message:{id:"notification.error"}})}},(0,n.useEffect)(()=>(Y.current(),()=>{m({type:pe.Zl})}),[]),(0,n.useEffect)(()=>{!i&&ge&&Ke()},[i,D,ge]),(0,n.useEffect)(()=>{R||f({type:"info",message:{id:(0,c.Z)("notification.info.autoreaload-disable")}})},[R,f]);const st=(L,F,_,oe=!1,Re,Ze=!1)=>{const Ae=oe?pe.JO:pe.gz;m({type:Ae,attributeToSet:L,forTarget:F,targetUid:_,initialAttribute:Re,shouldAddComponentToData:Ze})},Rt=({attributeToSet:L,forTarget:F,targetUid:_,initialAttribute:oe})=>{m({type:pe.Ir,attributeToSet:L,forTarget:F,targetUid:_,initialAttribute:oe})},ot=({attributeToSet:L,forTarget:F,targetUid:_,initialAttribute:oe})=>{m({type:pe.Ly,attributeToSet:L,forTarget:F,targetUid:_,initialAttribute:oe})},sa=(L,F)=>{m({type:pe.Uu,dynamicZoneTarget:L,componentsToAdd:F})},jt=(L,F,_,oe,Re=!1)=>{const Ze=F==="contentType"?pe.Sh:pe.VR;m({type:Ze,data:L,componentCategory:oe,schemaType:F,uid:_,shouldAddComponentToData:Re})},oa=(L,F)=>{m({type:pe.o_,dynamicZoneTarget:L,newComponents:F})},ra=(L,F,_="")=>{const oe=L==="components"?pe.lw:pe.ai;L==="contentType"&&h("willDeleteFieldOfContentType"),m({type:oe,mainDataKey:L,attributeToRemoveName:F,componentUid:_})},ia=async L=>{try{const F=`/${te.Z}/component-categories/${L}`,_=window.confirm(S({id:(0,c.Z)("popUpWarning.bodyMessage.category.delete")}));X(),_&&(y(),await se(F),await Ct(!0),await p(),await qe())}catch(F){console.error({err:F}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},Me=async()=>{try{const L=`/${te.Z}/${A}/${ge}`,F=Z()(l,[at,"isTemporary"],!1),_=window.confirm(S({id:(0,c.Z)(`popUpWarning.bodyMessage.${ee?"contentType":"component"}.delete`)}));if(X(),_){if(F){m({type:pe.Ap});return}y(),await se(L),await Ct(!0),await p(),await qe()}}catch(L){console.error({err:L}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},la=async(L,F)=>{try{const _=`/${te.Z}/component-categories/${L}`;X(),y(),await K(_,F),await Ct(!0),await p(),await qe()}catch(_){console.error({err:_}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},da=()=>{const L=Object.assign({},s,l.components);if(!ee){const _=Z()(l,"component",{});Ot()(L,Z()(_,["uid"],""),_)}const F=Zo(L);return(0,Ve.Z)(F)},ca=()=>{const L=Xa(s),F=Xa(l.components||{});return(0,Ve.Z)([...F,...L])},ua=(L,F)=>{m({type:pe.NG,dzName:L,componentToRemoveIndex:F})},Ke=()=>{const L=ee?o:s,F=Z()(L,ge,{schema:{attributes:[]}}),_=(0,Ro.Z)(F.schema.attributes,s),oe=To(F,_,s,ee),Re=Z()(F,"isTemporary",!1)&&Yt()(Z()(F,"schema.attributes",[]))===0;m({type:pe.xx,schemaToSet:oe,hasJustCreatedSchema:Re})},Zt=(0,n.useMemo)(()=>{const L=ee?o:s;return ge==="create-content-type"?!1:!Object.keys(L).includes(ge)&&!i},[s,o,ge,ee,i]),_e=(0,n.useMemo)(()=>{const L=Object.keys(o).filter(F=>Z()(o,[F,"schema","visible"],!0)).sort();return Z()(L,"0","create-content-type")},[o]);if(Zt)return n.createElement(B.l_,{to:`/plugins/${te.Z}/content-types/${_e}`});const be=async L=>{try{const F=Z()(l,[at,"isTemporary"],!1),_={components:Mo(l.components,s,ge,F)};if(ee){const Ze=M.forms.mutateContentTypeSchema({...Va(l.contentType),...L},d.contentType);if(!Lo(Ze)){f({type:"warning",message:{id:(0,c.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}_.contentType=Ze,h("willSaveContentType")}else _.component=Va(l.component,!0),h("willSaveComponent");y();const oe=`/${te.Z}/${A}`,Re=F?oe:`${oe}/${ge}`;if(F?await Ie(Re,_):await K(Re,_),await Ct(!0),await p(),F&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&O("contentTypeBuilder.success"),ee){h("didSaveContentType");const Ze=Z()(_,["contentType","schema","name"],""),Ae=Z()(d,["contentType","schema","name"],"");!F&&Ze!==Ae&&h("didEditNameOfContentType")}else h("didSaveComponent");await qe()}catch(F){ee||h("didNotSaveComponent"),console.error({err:F.response}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},qe=async()=>{await P()},W=(L,F,_)=>{m({type:pe.bi,data:L,schemaType:F,uid:_})};return n.createElement(wt.Z.Provider,{value:{addAttribute:st,addCustomFieldAttribute:Rt,addCreatedComponentToDynamicZone:sa,allComponentsCategories:Do(s,["category"]),changeDynamicZoneComponents:oa,components:s,componentsGroupedByCategory:Ht()(s,"category"),componentsThatHaveOtherComponentInTheirAttributes:da(),contentTypes:o,createSchema:jt,deleteCategory:ia,deleteData:Me,editCategory:la,editCustomFieldAttribute:ot,isInDevelopmentMode:Se,initialData:d,isInContentTypeView:ee,modifiedData:l,nestedComponents:ca(),removeAttribute:ra,removeComponentFromDynamicZone:ua,reservedNames:u,setModifiedData:Ke,sortedContentTypesList:vo(o),submitData:be,updateSchema:W}},r?n.createElement(g.LoadingIndicatorPage,null):n.createElement(n.Fragment,null,e,Se&&n.createElement(io,null)))};aa.defaultProps={components:{}},aa.propTypes={children:a().node.isRequired,components:a().object,contentTypes:a().object.isRequired,isLoading:a().bool.isRequired,isLoadingForDataToBeSet:a().bool.isRequired,initialData:a().object.isRequired,modifiedData:a().object.isRequired,reservedNames:a().object.isRequired};const Io=uo(),Fo=(0,Ne.$j)(Io,null),Uo=(0,Jt.compose)(Fo)((0,n.memo)(aa));var So=t(98422);const Qa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Ja=({children:e})=>{const[s,o]=(0,n.useState)(Qa),{trackUsage:i}=(0,g.useTracking)(),r=({attributeType:h,customFieldUid:P})=>{o(D=>({...D,actionType:"create",modalType:"customField",attributeType:h,customFieldUid:P}))},d=({attributeType:h,step:P})=>{s.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:h}),o(D=>({...D,actionType:"create",modalType:"attribute",step:P,attributeType:h}))},l=({dynamicZoneTarget:h,targetUid:P})=>{o(D=>({...D,dynamicZoneTarget:h,targetUid:P,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:h,targetUid:P})=>{o(D=>({...D,actionType:"create",forTarget:h,targetUid:P,modalType:"chooseAttribute",isOpen:!0}))},m=h=>{o(P=>({...P,...h,isOpen:!0}))},f=h=>{o(P=>({...P,categoryName:h,actionType:"edit",modalType:"editCategory",isOpen:!0}))},y=({forTarget:h,targetUid:P,attributeName:D,attributeType:X,customFieldUid:ae})=>{o(Ee=>({...Ee,modalType:"customField",customFieldUid:ae,actionType:"edit",forTarget:h,targetUid:P,attributeName:D,attributeType:X,isOpen:!0}))},p=({forTarget:h,targetUid:P,attributeName:D,attributeType:X,step:ae})=>{o(Ee=>({...Ee,modalType:"attribute",actionType:"edit",forTarget:h,targetUid:P,attributeName:D,attributeType:X,step:ae,isOpen:!0}))},O=({modalType:h,forTarget:P,targetUid:D,kind:X})=>{o(ae=>({...ae,modalType:h,actionType:"edit",forTarget:P,targetUid:D,kind:X,isOpen:!0}))},T=()=>{o(Qa)},M=({forTarget:h,targetUid:P})=>{o(D=>({...D,forTarget:h,targetUid:P,modalType:"chooseAttribute"}))},R=()=>{o(h=>({...h,attributeType:"component",modalType:"attribute",step:"2"}))},S=({dynamicZoneTarget:h})=>{o(P=>({...P,dynamicZoneTarget:h,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return n.createElement(So.Z.Provider,{value:{...s,onClickSelectField:d,onClickSelectCustomField:r,onCloseModal:T,onNavigateToChooseAttributeModal:M,onNavigateToAddCompoToDZModal:S,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:R,onOpenModalAddField:u,onOpenModalCreateSchema:m,onOpenModalEditCategory:f,onOpenModalEditField:p,onOpenModalEditCustomField:y,onOpenModalEditSchema:O,setFormModalNavigationState:o}},e)};Ja.propTypes={children:a().node.isRequired};const Bo=Ja;var Wo=t(57176);const No=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,57134))),Ko=()=>{const{url:e}=(0,B.$B)(),{categoryUid:s}=(0,B.UO)();return n.createElement(n.Suspense,{fallback:n.createElement(g.LoadingIndicatorPage,null)},n.createElement(B.rs,null,n.createElement(B.AW,{path:`${e}/:componentUid`},n.createElement(No,{categoryId:s}))))},wa=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,57134))),_o=()=>{const{formatMessage:e}=(0,b.Z)(),s=e({id:`${te.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,g.useGuidedTour)(),i=(0,n.useRef)(o);return(0,n.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),n.createElement(g.CheckPagePermissions,{permissions:Wo.Z.main},n.createElement(U.q,{title:s}),n.createElement(Bo,null,n.createElement(Uo,null,n.createElement(N.A,{sideNav:n.createElement(Vt,null)},n.createElement(n.Suspense,{fallback:n.createElement(g.LoadingIndicatorPage,null)},n.createElement(B.rs,null,n.createElement(B.AW,{path:`/plugins/${te.Z}/content-types/create-content-type`,component:wa}),n.createElement(B.AW,{path:`/plugins/${te.Z}/content-types/:uid`,component:wa}),n.createElement(B.AW,{path:`/plugins/${te.Z}/component-categories/:categoryUid`,component:Ko})))))))}},5002:(G,H,t)=>{"use strict";t.d(H,{Z:()=>g});var n=t(96124);const g=U=>`${n.Z}.${U}`},89881:(G,H,t)=>{var n=t(47816),N=t(99291),g=N(n);G.exports=g},23933:(G,H,t)=>{var n=t(44239),N=t(37005),g="[object RegExp]";function U(b){return N(b)&&n(b)==g}G.exports=U},69199:(G,H,t)=>{var n=t(89881),N=t(98612);function g(U,b){var B=-1,C=N(U)?Array(U.length):[];return n(U,function(k,J,le){C[++B]=b(k,J,le)}),C}G.exports=g},82689:(G,H,t)=>{var n=t(29932),N=t(97786),g=t(67206),U=t(69199),b=t(71131),B=t(7518),C=t(85022),k=t(6557),J=t(1469);function le(ie,Q,Fe){Q.length?Q=n(Q,function(z){return J(z)?function(de){return N(de,z.length===1?z[0]:z)}:z}):Q=[k];var q=-1;Q=n(Q,B(g));var fe=U(ie,function(z,de,I){var j=n(Q,function(Pe){return Pe(z)});return{criteria:j,index:++q,value:z}});return b(fe,function(z,de){return C(z,de,Fe)})}G.exports=le},71131:G=>{function H(t,n){var N=t.length;for(t.sort(n);N--;)t[N]=t[N].value;return t}G.exports=H},26393:(G,H,t)=>{var n=t(33448);function N(g,U){if(g!==U){var b=g!==void 0,B=g===null,C=g===g,k=n(g),J=U!==void 0,le=U===null,ie=U===U,Q=n(U);if(!le&&!Q&&!k&&g>U||k&&J&&ie&&!le&&!Q||B&&J&&ie||!b&&ie||!C)return 1;if(!B&&!k&&!Q&&g<U||Q&&b&&C&&!B&&!k||le&&b&&C||!J&&C||!ie)return-1}return 0}G.exports=N},85022:(G,H,t)=>{var n=t(26393);function N(g,U,b){for(var B=-1,C=g.criteria,k=U.criteria,J=C.length,le=b.length;++B<J;){var ie=n(C[B],k[B]);if(ie){if(B>=le)return ie;var Q=b[B];return ie*(Q=="desc"?-1:1)}}return g.index-U.index}G.exports=N},99291:(G,H,t)=>{var n=t(98612);function N(g,U){return function(b,B){if(b==null)return b;if(!n(b))return g(b,B);for(var C=b.length,k=U?C:-1,J=Object(b);(U?k--:++k<C)&&B(J[k],k,J)!==!1;);return b}}G.exports=N},37895:(G,H,t)=>{var n=t(23933),N=t(7518),g=t(31167),U=g&&g.isRegExp,b=U?N(U):n;G.exports=b},89734:(G,H,t)=>{var n=t(21078),N=t(82689),g=t(5976),U=t(16612),b=g(function(B,C){if(B==null)return[];var k=C.length;return k>1&&U(B,C[0],C[1])?C=[]:k>2&&U(C[0],C[1],C[2])&&(C=[C[0]]),N(B,n(C,1),[])});G.exports=b},39138:(G,H,t)=>{var n=t(80531),N=t(40180),g=t(62689),U=t(13218),b=t(37895),B=t(88016),C=t(83140),k=t(40554),J=t(79833),le=30,ie="...",Q=/\w*$/;function Fe(q,fe){var z=le,de=ie;if(U(fe)){var I="separator"in fe?fe.separator:I;z="length"in fe?k(fe.length):z,de="omission"in fe?n(fe.omission):de}q=J(q);var j=q.length;if(g(q)){var Pe=C(q);j=Pe.length}if(z>=j)return q;var ue=z-B(de);if(ue<1)return de;var ye=Pe?N(Pe,0,ue).join(""):q.slice(0,ue);if(I===void 0)return ye+de;if(Pe&&(ue+=ye.length-ue),b(I)){if(q.slice(ue).search(I)){var We,$e=ye;for(I.global||(I=RegExp(I.source,J(Q.exec(I))+"g")),I.lastIndex=0;We=I.exec($e);)var me=We.index;ye=ye.slice(0,me===void 0?ue:me)}}else if(q.indexOf(n(I),ue)!=ue){var je=ye.lastIndexOf(I);je>-1&&(ye=ye.slice(0,je))}return ye+de}G.exports=Fe}}]);
